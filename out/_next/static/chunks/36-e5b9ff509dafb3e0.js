(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[36],{49665:function(e,t,r){"use strict";var n=r(38524).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.map=t.array=t.rustEnum=t.str=t.vecU8=t.tagged=t.vec=t.bool=t.option=t.publicKey=t.i256=t.u256=t.i128=t.u128=t.i64=t.u64=t.struct=t.f64=t.f32=t.i32=t.u32=t.i16=t.u16=t.i8=t.u8=void 0;let o=r(73350),a=r(6062),s=i(r(37565));var l=r(73350);Object.defineProperty(t,"u8",{enumerable:!0,get:function(){return l.u8}}),Object.defineProperty(t,"i8",{enumerable:!0,get:function(){return l.s8}}),Object.defineProperty(t,"u16",{enumerable:!0,get:function(){return l.u16}}),Object.defineProperty(t,"i16",{enumerable:!0,get:function(){return l.s16}}),Object.defineProperty(t,"u32",{enumerable:!0,get:function(){return l.u32}}),Object.defineProperty(t,"i32",{enumerable:!0,get:function(){return l.s32}}),Object.defineProperty(t,"f32",{enumerable:!0,get:function(){return l.f32}}),Object.defineProperty(t,"f64",{enumerable:!0,get:function(){return l.f64}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return l.struct}});class u extends o.Layout{constructor(e,t,r){super(e,r),this.blob=(0,o.blob)(e),this.signed=t}decode(e,t=0){let r=new s.default(this.blob.decode(e,t),10,"le");return this.signed?r.fromTwos(8*this.span).clone():r}encode(e,t,r=0){return this.signed&&(e=e.toTwos(8*this.span)),this.blob.encode(e.toArrayLike(n,"le",this.span),t,r)}}function c(e){return new u(8,!1,e)}t.u64=c,t.i64=function(e){return new u(8,!0,e)},t.u128=function(e){return new u(16,!1,e)},t.i128=function(e){return new u(16,!0,e)},t.u256=function(e){return new u(32,!1,e)},t.i256=function(e){return new u(32,!0,e)};class f extends o.Layout{constructor(e,t,r,n){super(e.span,n),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}t.publicKey=function(e){return new f((0,o.blob)(32),e=>new a.PublicKey(e),e=>e.toBuffer(),e)};class d extends o.Layout{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=(0,o.u8)()}encode(e,t,r=0){return null==e?this.discriminator.encode(0,t,r):(this.discriminator.encode(1,t,r),this.layout.encode(e,t,r+1)+1)}decode(e,t=0){let r=this.discriminator.decode(e,t);if(0===r)return null;if(1===r)return this.layout.decode(e,t+1);throw Error("Invalid option "+this.property)}getSpan(e,t=0){let r=this.discriminator.decode(e,t);if(0===r)return 1;if(1===r)return this.layout.getSpan(e,t+1)+1;throw Error("Invalid option "+this.property)}}function p(e){if(0===e)return!1;if(1===e)return!0;throw Error("Invalid bool: "+e)}function h(e){return e?1:0}function y(e){let t=(0,o.u32)("length");return new f((0,o.struct)([t,(0,o.blob)((0,o.offset)(t,-t.span),"data")]),({data:e})=>e,e=>({data:e}),e)}t.option=function(e,t){return new d(e,t)},t.bool=function(e){return new f((0,o.u8)(),p,h,e)},t.vec=function(e,t){let r=(0,o.u32)("length");return new f((0,o.struct)([r,(0,o.seq)(e,(0,o.offset)(r,-r.span),"values")]),({values:e})=>e,e=>({values:e}),t)},t.tagged=function(e,t,r){return new f((0,o.struct)([c("tag"),t.replicate("data")]),function({tag:t,data:r}){if(!t.eq(e))throw Error("Invalid tag, expected: "+e.toString("hex")+", got: "+t.toString("hex"));return r},t=>({tag:e,data:t}),r)},t.vecU8=y,t.str=function(e){return new f(y(),e=>e.toString("utf-8"),e=>n.from(e,"utf-8"),e)},t.rustEnum=function(e,t,r){let n=(0,o.union)(null!=r?r:(0,o.u8)(),t);return e.forEach((e,t)=>n.addVariant(t,e,e.property)),n},t.array=function(e,t,r){return new f((0,o.struct)([(0,o.seq)(e,t,"values")]),({values:e})=>e,e=>({values:e}),r)};class m extends o.Layout{constructor(e,t,r){super(e.span+t.span,r),this.keyLayout=e,this.valueLayout=t}decode(e,t){return t=t||0,[this.keyLayout.decode(e,t),this.valueLayout.decode(e,t+this.keyLayout.getSpan(e,t))]}encode(e,t,r){r=r||0;let n=this.keyLayout.encode(e[0],t,r),i=this.valueLayout.encode(e[1],t,r+n);return n+i}getSpan(e,t){return this.keyLayout.getSpan(e,t)+this.valueLayout.getSpan(e,t)}}t.map=function(e,t,r){let n=(0,o.u32)("length");return new f((0,o.struct)([n,(0,o.seq)(new m(e,t),(0,o.offset)(n,-n.span),"values")]),({values:e})=>new Map(e),e=>({values:Array.from(e.entries())}),r)}},59486:function(e,t,r){"use strict";var n,i,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.calcYield=t.getPriceRangeFromPeriod=t.getPriceRangeFromDates=t.getPriceRange=t.PERIOD=t.fetchAndParsePricesCsv=t.fetchPricesFromCsv=t.fetchCSVLink=t.parsePriceRecordsFromCSV=t.pairs=void 0;let a=o(r(3423)),s=r(41653),l=r(80848),u=r(69431),{fetch:c}=(0,a.default)();var f=r(69431);Object.defineProperty(t,"pairs",{enumerable:!0,get:function(){return f.pairs}});let d=async e=>{let t=(0,l.parse)({delimiter:",",columns:!0}),r=[];for await(let n of e.pipe(t)){let{timestamp:e,epoch:t,price:i}=n;if(!e||!t||!i)throw Error('Columns "timestamp", "epoch", "price" must be present!');let o={timestamp:Math.round(new Date(e).getTime()/1e3),epoch:Number(t),price:Number(i)};if(isNaN(o.timestamp))throw Error("Timestamp must be a... timestamp!");if(isNaN(o.epoch))throw Error("Epoch must be a number!");if(isNaN(o.price))throw Error("Price must be a number!");r.push(o)}return r};t.parsePriceRecordsFromCSV=d,t.fetchCSVLink=e=>{let t=u.pairs[e];return`https://raw.githubusercontent.com/glitchful-dev/sol-stake-pool-apy/master/db/${t}.csv`};let p=async e=>{let r=(0,t.fetchCSVLink)(e),n=await c(r),i=await n.text();return await (0,t.parsePriceRecordsFromCSV)(s.Readable.from([i]))};t.fetchPricesFromCsv=p;let h=async e=>{let r=await c(e),n=await r.text();return await (0,t.parsePriceRecordsFromCSV)(s.Readable.from([n]))};t.fetchAndParsePricesCsv=h,(n=i=t.PERIOD||(t.PERIOD={}))[n.DAYS_7=604800]="DAYS_7",n[n.DAYS_14=1209600]="DAYS_14",n[n.DAYS_30=2592e3]="DAYS_30",n[n.DAYS_90=7776e3]="DAYS_90",n[n.DAYS_365=31536e3]="DAYS_365",t.getPriceRange=(e,t,r)=>{e.sort((e,t)=>t.timestamp-e.timestamp);let n=null,i=null;for(let o of e)if(o.timestamp>=t&&(n=o),!i&&o.timestamp<=r&&(i=o),o.timestamp<t)break;return n&&i&&!(n.timestamp>=i.timestamp)?{startPrice:n.price,endPrice:i.price,startTimestamp:n.timestamp,endTimestamp:i.timestamp,startEpoch:n.epoch,endEpoch:i.epoch}:null},t.getPriceRangeFromDates=(e,r,n)=>(0,t.getPriceRange)(e,Math.round(r.getTime()/1e3),Math.round(n.getTime()/1e3)),t.getPriceRangeFromPeriod=(e,r=i.DAYS_30,n=new Date)=>(0,t.getPriceRangeFromDates)(e,new Date(n.getTime()-1e3*r),n),t.calcYield=e=>{if(e.startPrice<=0||e.endPrice<=0)throw Error("Prices must be positive numbers!");let t=e.endTimestamp-e.startTimestamp;if(t<=0)throw Error("Start timestamp must be before end timestamp!");let r=e.endPrice/e.startPrice,n=e.endEpoch-e.startEpoch;if(t<=0)throw Error("At least 1 epoch must be in the range!");return{apy:r**(0x1e187e0/t)-1,apr:0x1e187e0/(t/n)*(r**(1/n)-1)}}},69431:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pairs=void 0,t.pairs={MarBmsSgKXdrN1egZf5sqe1TMai9K1rChYNDJgjq7aD:"marinade",CrX7kMhLC3cSsXJdT7JDgqrRVWGnUpX3gfEfxxU2NVLi:"lido",CgntPoLka5pD5fesJYhGmUCF8KU1QS1ZmZiuAuMZr2az:"cogent","2qyEeSAWKfU18AFthrF7JA8z8ZCi1yt76Tqs917vwQTV":"laine",CtMyWsrUtAwXWiGr9WjHT5fC3p3fgV8cyGpLTo2LJzG1:"jpool",stk9ApL5HeVAwPLr3TLhDXdZS8ptVu7zp6ov8HFDuMi:"solblaze","7ge2xKsZXmqPxa3YmXxXmzCp9Hc2ezrTxh6PECaxCwrL":"daopool",GUAMR8ciiaijraJeLDEDrFVaueLm9YzWWY9R7CBPL9rA:"everstake",Jito4APyf642JPZPx3hGc6WWJ8zPKtRbRs4P815Awbb:"jito",DqhH94PjkZsjAqEze2BEkWhFQJ6EyU6MdtMphMgnXqeK:"lst",edgejNWAqkePLpi5sHRxT9vHi7u3kSHP9cocABPKiWZ:"edgevana",ECRqn7gaNASuvTyC5xfCUjehWZCSowMXstZiM5DNweyB:"hub",Fu9BYC6tWBo1KMKaP3CFoKfRhqv9akmy3DuYwnCyWiyC:"vsol",DfiQgSvpW3Dy4gKfhtdHnWGHwFUrE8exvaxqjtMtAVxk:"pwrsol","8Dv3hNYcEWEaa4qVx9BTN1Wfvtha1z8cWDUXb7KVACVe":"picosol",Bnks1YdMj6nL8P4moRFTZnK6PUxsXGjzKU4n15zRzjix:"bonkSOL",DxRFpqBQBC2nKcvh14gD1eizCj9Xi7ruMR3nCR3Hvw8f:"zippySOL",BMrAKJYg86rrcULFYjrF9u39nEPKG1WXkKEUFnbGZFZG:"xeno","4CYXVhWNFF2VeGwLS135Pw4fGfzkpUs9Z3EsGQSR3Fve":"vork","3R4u9rfEkQthXo3pQ8ZXoQVvdCevfbaw4tvxTLjryy5R":"haSOL",urbanCMkUi3rkKbjmH3HntRRnfJLAyC7dq6EYh4Y9Mm:"uSOL",PPPGdj9yHb1kLq45Z2nxCxRKJgJ3RiJTtrN6E3Z2fDf:"uwuSOL",Hot2TiG8JRW8nn9sfLw9AZzc8pm1gvYfotLCPVwyjP69:"ESG",spp1mo6shdcrRyqDK2zdurJ8H5uttZE6H6oVjHxN1QN:"xSOL",So1vW4Bm6ZURzJJHZy1JpsjoVY68z4cDgF4tTLwYMa5:"elSOL",AdHRYZkiUQg4zPANGHB4XxoUcjbfF5TkAaWJFZ9bQALV:"ThetaSOL",DYuSikgwzHidFo2b8jqrViW1psAb7hpawJnszBothRzp:"xSOL","4dZDUL3BFJUFeqS3Y3cwkc84Rs6mgVHRYGt1LJvhooW4":"superSOL",EYwMHf8Ajnpvy3PqMMkq1MPkTyhCsBEesXFgnK9BZfmu:"polarSOL",BmEgS5XpWJJDqT3FVfB6ZmoELQrWkJxDXo3cNoJVsNFK:"dualSOL","3wK2g8ZdzAH8FJ7PKr2RcvGh7V9VYson5hrVsJM5Lmws":"hSOL","9dP2MvpoFuVgW31NbwyRJzybcjH2gMZS5YkSWEC7NDhD":"mallowSOL",AZGSr2fUyKkPLMhAW6WUEKEsQiRMAFKf8Fjnt4MFFaGv:"juicySOL","2jjK1MsLgsPgVjnp97HUJeovNj3jp4XgyQ3nuiWMwiS8":"stakeSOL","9mhGNSPArRMHpLDMSmxAvuoizBqtBGqYdT8WGuqgxNdn":"dSOL",LW3qEdGWdVrxNgxSXW8vZri7Jifg4HuKEQ1UABLxs3C:"lanternSOL","7qJ34Vq7nGZvk5YExkJsDZB6to6vz9RpcPmNEK84HjrV":"dainSOL","4qYufFsPQETukkXd5z9fxDsdwm8AEaSqzYpuzmZzCJxR":"digitSOL",pjwKqvtt4ij6VJW4HxNxSaufSrkWHRc6iCTHoC4gFs4:"fuseSOL",G9WdMBxWSo1X3fKxbuyGrv1nGXrVqGg5zBKAkBFkb37g:"thugSOL",AwDeTcW6BovNYR34Df1TPm4bFwswa4CJY4YPye2LXtPS:"compassSOL","2RUTyfN8iq7Hsd2s9rLgrRT9VhHLuqkx2mGNgbuzbhTc":"camaoSOL",GrrASJmjz19gHDsUUGv9y3gtRAwYJcdrtFESCRAosd44:"nordSOL",Fwy2jGmRCDjKpWTacMVvnLp66Fg4L5yhVCfahHsbjMGf:"digitalSOL",CWM1VcNPd2A5WF2x2mmEUCgA1PGSKNZCGAH5GsoQw7h8:"WenSOL","9pffpv2w65TSeZpD988hAjvvzUiF1KZN1Swx5j2zPCdy":"dlgtSOL","9j2mFdABTCCnWnzLtpMjp86AEcm4e3XistVeuujds7Au":"stakrSOL","6e2LpgytfG3RqMdYuPr3dnedv6bmHQUk9hH9h2fzVk9o":"clockSOL",GEGRQNw17Y5s44dRH69sk8bvhyj3i6VwgqGmN1MBHKHp:"spikySOL","5bzgfi7nidWWrp3DCwPwLzepw7PGgawRmMH9tqqXMZRj":"hausSOL","4snj2jLuKae9ty4PwDnazq9J89jeGXrmJcYS4xPCXqnp":"degenSOL",Fvy5L7f3rduuYfRf9GR9fDqEgmJkYagDPh3Ddkp5jcoP:"kumaSOL","4gT1GaFtJK5pnX3CnjnSYwy8VUV9UdmozoQV9GCNk9RQ":"rSOL",ArAQfbzsdotoKB5jJcZa3ajQrrPcWr2YQoDAEAiFxJAC:"bonkSOL","6LXCxeyQZqdAL4yLCtgATFYF6dcayWvsiwjtBFYVfb1N":"rkSOL",GZDX5JYXDzCEDL3kybhjN7PSixL4ams3M2G4CvWmMmm5:"strongSOL","8WHCJsUduwDBhPL9uVADQSdWkUi2LPZNFAMyX1n2HGMD":"pumpkinSOL","8VpRhuxa7sUUepdY3kQiTmX9rS5vx4WgaXiAnXq4KCtr":"jupSOL",GutG5bcmEZw15WmPHNVMWHU77c6t8CEinUEdPLYz3doa:"fpSOL",phasejkG1akKgqkLvfWzWY17evnH6mSWznnUspmpyeG:"phaseSOL",EVXQHaLSJyUNrnBGfXUnvEi4DvVz4UJ3GnoKGVQVxrjr:"iceSOL"}},6145:(e,t,r)=>{"use strict";r.d(t,{kV:()=>M});var n,i,o=r(6062),a=r(90464),s=r(38524),l=r(49665),u=r(37565),c=r.n(u);r(38524).Buffer,new o.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),new o.PublicKey("SPoo1Ku8WFXoNDMHPsrGSTSG1Y47rzgn41SLUNakuHy"),s.Buffer.from("ephemeral");let f=s.Buffer.from("transient");class d extends TypeError{constructor(e,t){let r;let{message:n,explanation:i,...o}=e,{path:a}=e,s=0===a.length?n:`At path: ${a.join(".")} -- ${n}`;super(i??s),null!=i&&(this.cause=s),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function p(e){return"object"==typeof e&&null!=e}function h(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function*y(e,t,r,n){var i;for(let o of(p(i=e)&&"function"==typeof i[Symbol.iterator]||(e=[e]),e)){let e=function(e,t,r,n){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});let{path:i,branch:o}=t,{type:a}=r,{refinement:s,message:l=`Expected a value of type \`${a}\`${s?` with refinement \`${s}\``:""}, but received: \`${h(n)}\``}=e;return{value:n,type:a,refinement:s,key:i[i.length-1],path:i,branch:o,...e,message:l}}(o,t,r,n);e&&(yield e)}}class m{constructor(e){let{type:t,schema:r,validator:n,refiner:i,coercer:o=e=>e,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,n?this.validator=(e,t)=>y(n(e,t),t,this,e):this.validator=()=>[],i?this.refiner=(e,t)=>y(i(e,t),t,this,e):this.refiner=()=>[]}assert(e,t){return function(e,t,r){let n=g(e,t,{message:r});if(n[0])throw n[0]}(e,this,t)}create(e,t){return function(e,t,r){let n=g(e,t,{coerce:!0,message:r});if(!n[0])return n[1];throw n[0]}(e,this,t)}is(e){return!g(e,this)[0]}mask(e,t){return function(e,t,r){let n=g(e,t,{coerce:!0,mask:!0,message:r});if(!n[0])return n[1];throw n[0]}(e,this,t)}validate(e,t={}){return g(e,this,t)}}function g(e,t,r={}){let n=function* e(t,r,n={}){let{path:i=[],branch:o=[t],coerce:a=!1,mask:s=!1}=n,l={path:i,branch:o};if(a&&(t=r.coercer(t,l),s&&"type"!==r.type&&p(r.schema)&&p(t)&&!Array.isArray(t)))for(let e in t)void 0===r.schema[e]&&delete t[e];let u="valid";for(let e of r.validator(t,l))e.explanation=n.message,u="not_valid",yield[e,void 0];for(let[c,f,d]of r.entries(t,l))for(let r of e(f,d,{path:void 0===c?i:[...i,c],branch:void 0===c?o:[...o,f],coerce:a,mask:s,message:n.message}))r[0]?(u=null!=r[0].refinement?"not_refined":"not_valid",yield[r[0],void 0]):a&&(f=r[1],void 0===c?t=f:t instanceof Map?t.set(c,f):t instanceof Set?t.add(f):p(t)&&(void 0!==f||c in t)&&(t[c]=f));if("not_valid"!==u)for(let e of r.refiner(t,l))e.explanation=n.message,u="not_refined",yield[e,void 0];"valid"===u&&(yield[void 0,t])}(e,t,r),i=function(e){let{done:t,value:r}=e.next();return t?void 0:r}(n);return i[0]?[new d(i[0],function*(){for(let e of n)e[0]&&(yield e[0])}),void 0]:[void 0,i[1]]}function b(e,t){return new m({type:e,schema:null,validator:t})}function v(e){return b("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${h(t)}`)}function w(){return b("number",e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${h(e)}`)}function _(){return b("string",e=>"string"==typeof e||`Expected a string, but received: ${h(e)}`)}function x(e){let t=Object.keys(e);return new m({type:"type",schema:e,*entries(r){if(p(r))for(let n of t)yield[n,r[n],e[n]]},validator:e=>p(e)||`Expected an object, but received: ${h(e)}`,coercer:e=>p(e)?{...e}:e})}function S(e,t,r){return new m({...e,coercer:(n,i)=>g(n,t)[0]?e.coercer(n,i):e.coercer(r(n,i),i)})}let E=[(0,l.u64)("denominator"),(0,l.u64)("numerator")];!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.StakePool=1]="StakePool",e[e.ValidatorList=2]="ValidatorList"}(n||(n={}));let O=S(v(c()),_(),e=>{if("string"==typeof e)return new(c())(e,10);throw Error("invalid big num")}),j=S(v(o.PublicKey),_(),e=>new o.PublicKey(e)),A=function(e){let t={},r=e.map(e=>h(e)).join();for(let r of e)t[r]=r;return new m({type:"enums",schema:t,validator:t=>e.includes(t)||`Expected one of \`${r}\`, but received: ${h(t)}`})}(["uninitialized","initialized","delegated","rewardsPool"]),k=x({rentExemptReserve:O,authorized:x({staker:j,withdrawer:j}),lockup:x({unixTimestamp:w(),epoch:w(),custodian:j})}),R=x({meta:k,stake:function(e){return new m({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})}(x({delegation:x({voter:j,stake:O,activationEpoch:O,deactivationEpoch:O,warmupCooldownRate:w()}),creditsObserved:w()}))}),T=(x({type:A,info:function(e){return new m({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}(R)}),(0,l.struct)([(0,l.u8)("accountType"),(0,l.publicKey)("manager"),(0,l.publicKey)("staker"),(0,l.publicKey)("stakeDepositAuthority"),(0,l.u8)("stakeWithdrawBumpSeed"),(0,l.publicKey)("validatorList"),(0,l.publicKey)("reserveStake"),(0,l.publicKey)("poolMint"),(0,l.publicKey)("managerFeeAccount"),(0,l.publicKey)("tokenProgramId"),(0,l.u64)("totalLamports"),(0,l.u64)("poolTokenSupply"),(0,l.u64)("lastUpdateEpoch"),(0,l.struct)([(0,l.u64)("unixTimestamp"),(0,l.u64)("epoch"),(0,l.publicKey)("custodian")],"lockup"),(0,l.struct)(E,"epochFee"),(0,l.option)((0,l.struct)(E),"nextEpochFee"),(0,l.option)((0,l.publicKey)(),"preferredDepositValidatorVoteAddress"),(0,l.option)((0,l.publicKey)(),"preferredWithdrawValidatorVoteAddress"),(0,l.struct)(E,"stakeDepositFee"),(0,l.struct)(E,"stakeWithdrawalFee"),(0,l.option)((0,l.struct)(E),"nextStakeWithdrawalFee"),(0,l.u8)("stakeReferralFee"),(0,l.option)((0,l.publicKey)(),"solDepositAuthority"),(0,l.struct)(E,"solDepositFee"),(0,l.u8)("solReferralFee"),(0,l.option)((0,l.publicKey)(),"solWithdrawAuthority"),(0,l.struct)(E,"solWithdrawalFee"),(0,l.option)((0,l.struct)(E),"nextSolWithdrawalFee"),(0,l.u64)("lastEpochPoolTokenSupply"),(0,l.u64)("lastEpochTotalLamports")]));!function(e){e[e.Active=0]="Active",e[e.DeactivatingTransient=1]="DeactivatingTransient",e[e.ReadyForRemoval=2]="ReadyForRemoval"}(i||(i={}));let N=(0,l.struct)([(0,l.u64)("activeStakeLamports"),(0,l.u64)("transientStakeLamports"),(0,l.u64)("lastUpdateEpoch"),(0,l.u64)("transientSeedSuffixStart"),(0,l.u64)("transientSeedSuffixEnd"),(0,l.u8)("status"),(0,l.publicKey)("voteAccountAddress")]);(0,l.struct)([(0,l.u8)("accountType"),(0,l.u32)("maxValidators"),(0,l.vec)(N,"validators")]);let L=a.w3([a.u8("instruction"),a.Wg("lamports"),a.Wg("transientStakeSeed")]),I=a.w3([a.u8("instruction"),a.DH("startIndex"),a.u8("noMerge")]);async function M(e,t){let r=await e.getAccountInfo(t);if(!r)throw Error("Invalid stake pool account");return{pubkey:t,account:{data:T.decode(r.data),executable:r.executable,lamports:r.lamports,owner:r.owner}}}Object.freeze({AddValidatorToPool:{index:1,layout:a.w3([a.u8("instruction"),a.DH("seed")])},RemoveValidatorFromPool:{index:2,layout:a.w3([a.u8("instruction")])},DecreaseValidatorStake:{index:3,layout:L},IncreaseValidatorStake:{index:4,layout:L},UpdateValidatorListBalance:{index:6,layout:I},UpdateStakePoolBalance:{index:7,layout:a.w3([a.u8("instruction")])},CleanupRemovedValidatorEntries:{index:8,layout:a.w3([a.u8("instruction")])},DepositStake:{index:9,layout:a.w3([a.u8("instruction")])},WithdrawStake:{index:10,layout:a.w3([a.u8("instruction"),a.Wg("poolTokens")])},DepositSol:{index:14,layout:a.w3([a.u8("instruction"),a.Wg("lamports")])},WithdrawSol:{index:16,layout:a.w3([a.u8("instruction"),a.Wg("poolTokens")])},IncreaseAdditionalValidatorStake:{index:19,layout:a.w3([a.u8("instruction"),a.Wg("lamports"),a.Wg("transientStakeSeed"),a.Wg("ephemeralStakeSeed")])},DecreaseAdditionalValidatorStake:{index:20,layout:a.w3([a.u8("instruction"),a.Wg("lamports"),a.Wg("transientStakeSeed"),a.Wg("ephemeralStakeSeed")])},DecreaseValidatorStakeWithReserve:{index:21,layout:L},Redelegate:{index:22,layout:a.w3([a.u8("instruction"),a.Wg("lamports"),a.Wg("sourceTransientStakeSeed"),a.Wg("ephemeralStakeSeed"),a.Wg("destinationTransientStakeSeed")])}})},73350:(e,t,r)=>{"use strict";var n=r(38524).Buffer;class i{constructor(e,t){if(!Number.isInteger(e))throw TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw Error("Layout is abstract")}encode(e,t,r){throw Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw RangeError("indeterminate span");return this.span}replicate(e){let t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function o(e,t){return t.property?e+"["+t.property+"]":e}t.Layout=i,t.nameWithProperty=o,t.bindConstructorLayout=function(e,t){if("function"!=typeof e)throw TypeError("Class must be constructor");if(e.hasOwnProperty("layout_"))throw Error("Class is already bound to a layout");if(!(t&&t instanceof i))throw TypeError("layout must be a Layout");if(t.hasOwnProperty("boundConstructor_"))throw Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value:function(e,r){return t.encode(this,e,r)},writable:!0}),Object.defineProperty(e,"decode",{value:function(e,r){return t.decode(e,r)},writable:!0})};class a extends i{isCount(){throw Error("ExternalLayout is abstract")}}class s extends a{constructor(e,t){if(void 0===e&&(e=1),!Number.isInteger(e)||0>=e)throw TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t){return void 0===t&&(t=0),Math.floor((e.length-t)/this.elementSpan)}encode(e,t,r){return 0}}class l extends a{constructor(e,t,r){if(!(e instanceof i))throw TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof u||this.layout instanceof c}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,r){return void 0===r&&(r=0),this.layout.encode(e,t,r+this.offset)}}class u extends i{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeUIntLE(e,r,this.span),this.span}}class c extends i{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeUIntBE(e,r,this.span),this.span}}class f extends i{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readIntLE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeIntLE(e,r,this.span),this.span}}class d extends i{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readIntBE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeIntBE(e,r,this.span),this.span}}function p(e){let t=Math.floor(e/0x100000000);return{hi32:t,lo32:e-0x100000000*t}}function h(e,t){return 0x100000000*e+t}class y extends i{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);let r=e.readUInt32LE(t);return h(e.readUInt32LE(t+4),r)}encode(e,t,r){void 0===r&&(r=0);let n=p(e);return t.writeUInt32LE(n.lo32,r),t.writeUInt32LE(n.hi32,r+4),8}}class m extends i{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),h(e.readUInt32BE(t),e.readUInt32BE(t+4))}encode(e,t,r){void 0===r&&(r=0);let n=p(e);return t.writeUInt32BE(n.hi32,r),t.writeUInt32BE(n.lo32,r+4),8}}class g extends i{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);let r=e.readUInt32LE(t);return h(e.readInt32LE(t+4),r)}encode(e,t,r){void 0===r&&(r=0);let n=p(e);return t.writeUInt32LE(n.lo32,r),t.writeInt32LE(n.hi32,r+4),8}}class b extends i{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),h(e.readInt32BE(t),e.readUInt32BE(t+4))}encode(e,t,r){void 0===r&&(r=0);let n=p(e);return t.writeInt32BE(n.hi32,r),t.writeUInt32BE(n.lo32,r+4),8}}class v extends i{constructor(e){super(4,e)}decode(e,t){return void 0===t&&(t=0),e.readFloatLE(t)}encode(e,t,r){return void 0===r&&(r=0),t.writeFloatLE(e,r),4}}class w extends i{constructor(e){super(4,e)}decode(e,t){return void 0===t&&(t=0),e.readFloatBE(t)}encode(e,t,r){return void 0===r&&(r=0),t.writeFloatBE(e,r),4}}class _ extends i{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),e.readDoubleLE(t)}encode(e,t,r){return void 0===r&&(r=0),t.writeDoubleLE(e,r),8}}class x extends i{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),e.readDoubleBE(t)}encode(e,t,r){return void 0===r&&(r=0),t.writeDoubleBE(e,r),8}}class S extends i{constructor(e,t,r){if(!(e instanceof i))throw TypeError("elementLayout must be a Layout");if(!(t instanceof a&&t.isCount()||Number.isInteger(t)&&0<=t))throw TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;t instanceof a||!(0<e.span)||(n=t*e.span),super(n,r),this.elementLayout=e,this.count=t}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0,n=this.count;if(n instanceof a&&(n=n.decode(e,t)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;for(;i<n;)r+=this.elementLayout.getSpan(e,t+r),++i}return r}decode(e,t){void 0===t&&(t=0);let r=[],n=0,i=this.count;for(i instanceof a&&(i=i.decode(e,t));n<i;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),n+=1;return r}encode(e,t,r){void 0===r&&(r=0);let n=this.elementLayout,i=e.reduce((e,i)=>e+n.encode(i,t,r+e),0);return this.count instanceof a&&this.count.encode(e.length,t,r),i}}class E extends i{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((e,t)=>e&&t instanceof i,!0)))throw TypeError("fields must be array of Layout instances");for(let n of("boolean"==typeof t&&void 0===r&&(r=t,t=void 0),e))if(0>n.span&&void 0===n.property)throw Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce((e,t)=>e+t.getSpan(),0)}catch(e){}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0;try{r=this.fields.reduce((r,n)=>{let i=n.getSpan(e,t);return t+=i,r+i},0)}catch(e){throw RangeError("indeterminate span")}return r}decode(e,t){void 0===t&&(t=0);let r=this.makeDestinationObject();for(let n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){void 0===r&&(r=0);let n=r,i=0,o=0;for(let n of this.fields){let a=n.span;if(o=0<a?a:0,void 0!==n.property){let i=e[n.property];void 0!==i&&(o=n.encode(i,t,r),0>a&&(a=n.getSpan(t,r)))}i=r,r+=a}return i+o-n}fromArray(e){let t=this.makeDestinationObject();for(let r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw TypeError("property must be string");let t=0;for(let r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class O{constructor(e){this.property=e}decode(){throw Error("UnionDiscriminator is abstract")}encode(){throw Error("UnionDiscriminator is abstract")}}class j extends O{constructor(e,t){if(!(e instanceof a&&e.isCount()))throw TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class A extends i{constructor(e,t,r){let n=e instanceof u||e instanceof c;if(n)e=new j(new l(e));else if(e instanceof a&&e.isCount())e=new j(e);else if(!(e instanceof O))throw TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof i))throw TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let o=-1;t&&0<=(o=t.span)&&n&&(o+=e.layout.span),super(o,r),this.discriminator=e,this.usesPrefixDiscriminator=n,this.defaultLayout=t,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return s(e)},this.configGetSourceVariant=function(e){s=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=this.getVariant(e,t);if(!r)throw Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;let t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(let t in this.registry){let r=this.registry[t];if(e.hasOwnProperty(r.property))return r}throw Error("unable to infer src variant")}decode(e,t){let r;void 0===t&&(t=0);let n=this.discriminator,i=n.decode(e,t),o=this.registry[i];if(void 0===o){let a=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(a=n.layout.span),(r=this.makeDestinationObject())[n.property]=i,r[o.property]=this.defaultLayout.decode(e,t+a)}else r=o.decode(e,t);return r}encode(e,t,r){void 0===r&&(r=0);let n=this.getSourceVariant(e);if(void 0===n){let n=this.discriminator,i=this.defaultLayout,o=0;return this.usesPrefixDiscriminator&&(o=n.layout.span),n.encode(e[n.property],t,r),o+i.encode(e[i.property],t,r+o)}return n.encode(e,t,r)}addVariant(e,t,r){let n=new k(this,e,t,r);return this.registry[e]=n,n}getVariant(e,t){let r=e;return n.isBuffer(e)&&(void 0===t&&(t=0),r=this.discriminator.decode(e,t)),this.registry[r]}}class k extends i{constructor(e,t,r,n){if(!(e instanceof A))throw TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof i))throw TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw Error("variant span exceeds span of containing union");if("string"!=typeof n)throw TypeError("variant must have a String property")}let o=e.span;0>e.span&&0<=(o=r?r.span:0)&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span),super(o,n),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,t+r)}decode(e,t){let r=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r){void 0===r&&(r=0);let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let i=n;if(this.layout&&(this.layout.encode(e[this.property],t,r+n),i+=this.layout.getSpan(t,r+n),0<=this.union.span&&i>this.union.span))throw Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function R(e){return 0>e&&(e+=0x100000000),e}class T extends i{constructor(e,t,r){if(!(e instanceof u||e instanceof c))throw TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===r&&(r=t,t=void 0),4<e.span)throw RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let n=0;this._packedSetValue=function(e){return n=R(e),this},this._packedGetValue=function(){return n}}decode(e,t){let r=this.makeDestinationObject();void 0===t&&(t=0);let n=this.word.decode(e,t);for(let e of(this._packedSetValue(n),this.fields))void 0!==e.property&&(r[e.property]=e.decode(n));return r}encode(e,t,r){void 0===r&&(r=0);let n=this.word.decode(t,r);for(let t of(this._packedSetValue(n),this.fields))if(void 0!==t.property){let r=e[t.property];void 0!==r&&t.encode(r)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){let r=new N(this,e,t);return this.fields.push(r),r}addBoolean(e){let t=new L(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}}class N{constructor(e,t,r){if(!(e instanceof T))throw TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw TypeError("bits must be positive integer");let n=8*e.span,i=e.fields.reduce((e,t)=>e+t.bits,0);if(t+i>n)throw Error("bits too long for span remainder ("+(n-i)+" of "+n+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=0xffffffff),this.start=i,this.container.msb&&(this.start=n-i-t),this.wordMask=R(this.valueMask<<this.start),this.property=r}decode(){return R(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==R(e&this.valueMask))throw TypeError(o("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let t=this.container._packedGetValue(),r=R(e<<this.start);this.container._packedSetValue(R(t&~this.wordMask)|r)}}class L extends N{constructor(e,t){super(e,1,t)}decode(e,t){return!!N.prototype.decode.call(this,e,t)}encode(e){return"boolean"==typeof e&&(e=+e),N.prototype.encode.call(this,e)}}class I extends i{constructor(e,t){if(!(e instanceof a&&e.isCount()||Number.isInteger(e)&&0<=e))throw TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof a||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){void 0===t&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let i=this.length;if(this.length instanceof a&&(i=e.length),!(n.isBuffer(e)&&i===e.length))throw TypeError(o("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(r+i>t.length)throw RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,i,"hex"),this.length instanceof a&&this.length.encode(i,t,r),i}}class M extends i{constructor(e){super(-1,e)}getSpan(e,t){if(!n.isBuffer(e))throw TypeError("b must be a Buffer");void 0===t&&(t=0);let r=t;for(;r<e.length&&0!==e[r];)r+=1;return 1+r-t}decode(e,t,r){void 0===t&&(t=0);let n=this.getSpan(e,t);return e.slice(t,t+n-1).toString("utf-8")}encode(e,t,r){void 0===r&&(r=0),"string"!=typeof e&&(e=e.toString());let i=new n(e,"utf8"),o=i.length;if(r+o>t.length)throw RangeError("encoding overruns Buffer");return i.copy(t,r),t[r+o]=0,o+1}}class C extends i{constructor(e,t){if("string"==typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t){if(!n.isBuffer(e))throw TypeError("b must be a Buffer");return void 0===t&&(t=0),e.length-t}decode(e,t,r){void 0===t&&(t=0);let n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw RangeError("text length exceeds maxSpan");return e.slice(t,t+n).toString("utf-8")}encode(e,t,r){void 0===r&&(r=0),"string"!=typeof e&&(e=e.toString());let i=new n(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw RangeError("text length exceeds maxSpan");if(r+o>t.length)throw RangeError("encoding overruns Buffer");return i.copy(t,r),o}}class P extends i{constructor(e,t){super(0,t),this.value=e}decode(e,t,r){return this.value}encode(e,t,r){return 0}}t.ExternalLayout=a,t.GreedyCount=s,t.OffsetLayout=l,t.UInt=u,t.UIntBE=c,t.Int=f,t.IntBE=d,t.Float=v,t.FloatBE=w,t.Double=_,t.DoubleBE=x,t.Sequence=S,t.Structure=E,t.UnionDiscriminator=O,t.UnionLayoutDiscriminator=j,t.Union=A,t.VariantLayout=k,t.BitStructure=T,t.BitField=N,t.Boolean=L,t.Blob=I,t.CString=M,t.UTF8=C,t.Constant=P,t.greedy=(e,t)=>new s(e,t),t.offset=(e,t,r)=>new l(e,t,r),t.u8=e=>new u(1,e),t.u16=e=>new u(2,e),t.u24=e=>new u(3,e),t.u32=e=>new u(4,e),t.u40=e=>new u(5,e),t.u48=e=>new u(6,e),t.nu64=e=>new y(e),t.u16be=e=>new c(2,e),t.u24be=e=>new c(3,e),t.u32be=e=>new c(4,e),t.u40be=e=>new c(5,e),t.u48be=e=>new c(6,e),t.nu64be=e=>new m(e),t.s8=e=>new f(1,e),t.s16=e=>new f(2,e),t.s24=e=>new f(3,e),t.s32=e=>new f(4,e),t.s40=e=>new f(5,e),t.s48=e=>new f(6,e),t.ns64=e=>new g(e),t.s16be=e=>new d(2,e),t.s24be=e=>new d(3,e),t.s32be=e=>new d(4,e),t.s40be=e=>new d(5,e),t.s48be=e=>new d(6,e),t.ns64be=e=>new b(e),t.f32=e=>new v(e),t.f32be=e=>new w(e),t.f64=e=>new _(e),t.f64be=e=>new x(e),t.struct=(e,t,r)=>new E(e,t,r),t.bits=(e,t,r)=>new T(e,t,r),t.seq=(e,t,r)=>new S(e,t,r),t.union=(e,t,r)=>new A(e,t,r),t.unionLayoutDiscriminator=(e,t)=>new j(e,t),t.blob=(e,t)=>new I(e,t),t.cstr=e=>new M(e),t.utf8=(e,t)=>new C(e,t),t.const=(e,t)=>new P(e,t)},3423:function(e,t,r){var n;!function(i){"use strict";function o(e){var r,n=e&&e.Promise||i.Promise,o=e&&e.XMLHttpRequest||i.XMLHttpRequest;return r=Object.create(i,{fetch:{value:void 0,writable:!0}}),function(e){var t=void 0!==r&&r||"undefined"!=typeof self&&self||void 0!==t&&t,i={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(i.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function l(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function d(e){if(e.bodyUsed)return n.reject(TypeError("Already read"));e.bodyUsed=!0}function p(e){return new n(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function h(e){var t=new FileReader,r=p(t);return t.readAsArrayBuffer(e),r}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){if(this.bodyUsed=this.bodyUsed,this._bodyInit=e,e){if("string"==typeof e)this._bodyText=e;else if(i.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(i.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var t;i.arrayBuffer&&i.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||s(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e)}}else this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return n.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return n.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return n.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?n.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):n.resolve(this._bodyArrayBuffer)):this.blob().then(h)}),this.text=function(){var e,t,r,i=d(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,r=p(t=new FileReader),t.readAsText(e),r;if(this._bodyArrayBuffer)return n.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return n.resolve(this._bodyText);throw Error("could not read FormData body as text")},i.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=l(e),t=u(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},f.prototype.delete=function(e){delete this.map[l(e)]},f.prototype.get=function(e){return e=l(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(l(e))},f.prototype.set=function(e,t){this.map[l(e)]=u(t)},f.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},f.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),c(e)},f.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},f.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),c(e)},i.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){if(!(this instanceof b))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,n,i=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new f(t.headers)),this.method=(n=(r=t.method||this.method||"GET").toUpperCase(),g.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function v(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function w(e,t){if(!(this instanceof w))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},m.call(b.prototype),m.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var _=[301,302,303,307,308];w.redirect=function(e,t){if(-1===_.indexOf(t))throw RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function x(r,a){return new n(function(n,s){var l=new b(r,a);if(l.signal&&l.signal.aborted)return s(new e.DOMException("Aborted","AbortError"));var c=new o;function d(){c.abort()}c.onload=function(){var e,t,r={status:c.status,statusText:c.statusText,headers:(e=c.getAllResponseHeaders()||"",t=new f,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}}),t)};r.url="responseURL"in c?c.responseURL:r.headers.get("X-Request-URL");var i="response"in c?c.response:c.responseText;setTimeout(function(){n(new w(i,r))},0)},c.onerror=function(){setTimeout(function(){s(TypeError("Network request failed"))},0)},c.ontimeout=function(){setTimeout(function(){s(TypeError("Network request failed"))},0)},c.onabort=function(){setTimeout(function(){s(new e.DOMException("Aborted","AbortError"))},0)},c.open(l.method,function(e){try{return""===e&&t.location.href?t.location.href:e}catch(t){return e}}(l.url),!0),"include"===l.credentials?c.withCredentials=!0:"omit"===l.credentials&&(c.withCredentials=!1),"responseType"in c&&(i.blob?c.responseType="blob":i.arrayBuffer&&l.headers.get("Content-Type")&&-1!==l.headers.get("Content-Type").indexOf("application/octet-stream")&&(c.responseType="arraybuffer")),!a||"object"!=typeof a.headers||a.headers instanceof f?l.headers.forEach(function(e,t){c.setRequestHeader(t,e)}):Object.getOwnPropertyNames(a.headers).forEach(function(e){c.setRequestHeader(e,u(a.headers[e]))}),l.signal&&(l.signal.addEventListener("abort",d),c.onreadystatechange=function(){4===c.readyState&&l.signal.removeEventListener("abort",d)}),c.send(void 0===l._bodyInit?null:l._bodyInit)})}x.polyfill=!0,t.fetch||(t.fetch=x,t.Headers=f,t.Request=b,t.Response=w),e.Headers=f,e.Request=b,e.Response=w,e.fetch=x,Object.defineProperty(e,"__esModule",{value:!0})}(t),{fetch:r.fetch,Headers:r.Headers,Request:r.Request,Response:r.Response,DOMException:r.DOMException}}void 0!==(n=(function(){return o}).call(t,r,t,e))&&(e.exports=n)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:void 0!==r.g?r.g:this)},80196:e=>{!function(){"use strict";var t={864:function(e){var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise(function(r,n){var i;function o(r){e.removeListener(t,a),n(r)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",o),r([].slice.call(arguments))}y(e,t,a,{once:!0}),"error"!==t&&(i={once:!0},"function"==typeof e.on&&y(e,"error",o,i))})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,r,n){if(s(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if("function"==typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var i,o,a,u=Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,console&&console.warn&&console.warn(u)}return e}function c(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=c.bind(n);return i.listener=r,n.wrapFn=i,i}function d(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):h(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function h(e,t){for(var r=Array(t),n=0;n<t;++n)r[n]=e[n];return r}function y(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,function i(o){n.once&&e.removeEventListener(t,i),r(o)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var a,s=Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)n(l,this,t);else for(var u=l.length,c=h(l,u),r=0;r<u;++r)n(c[r],this,t);return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,f(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,f(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,i,o,a;if(s(t),void 0===(n=this._events)||void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return d(this,e,!0)},o.prototype.rawListeners=function(e){return d(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var o=r[e]={exports:{}},a=!0;try{t[e](o,o.exports,n),a=!1}finally{a&&delete r[e]}return o.exports}n.ab="//";var i=n(864);e.exports=i}()},41653:(e,t,r)=>{var n=r(37188);!function(){var t={782:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},646:function(e){"use strict";let t={};function r(e,r,n){n||(n=Error);class i extends n{constructor(e,t,n){super("string"==typeof r?r:r(e,t,n))}}i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(!Array.isArray(e))return`of ${t} ${String(e)}`;{let r=e.length;return(e=e.map(e=>String(e)),r>2)?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}}r("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(e,t,r){var i,o,a,s;let l,u;if("string"==typeof t&&(i="not ",t.substr(0,i.length)===i)?(l="must not be",t=t.replace(/^not /,"")):l="must be",o=" argument",(void 0===a||a>e.length)&&(a=e.length),e.substring(a-o.length,a)===o)u=`The ${e} ${l} ${n(t,"type")}`;else{let r=("number"!=typeof s&&(s=0),s+1>e.length||-1===e.indexOf(".",s))?"argument":"property";u=`The "${e}" ${r} ${l} ${n(t,"type")}`}return u+`. Received type ${typeof r}`},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},403:function(e,t,r){"use strict";var i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=c;var o=r(709),a=r(337);r(782)(c,o);for(var s=i(a.prototype),l=0;l<s.length;l++){var u=s[l];c.prototype[u]||(c.prototype[u]=a.prototype[u])}function c(e){if(!(this instanceof c))return new c(e);o.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||n.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},889:function(e,t,r){"use strict";e.exports=i;var n=r(170);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(782)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},709:function(e,t,i){"use strict";e.exports=j,j.ReadableState=O,i(361).EventEmitter;var o,a,s,l,u,c=function(e,t){return e.listeners(t).length},f=i(678),d=i(300).Buffer,p=r.g.Uint8Array||function(){},h=i(837);a=h&&h.debuglog?h.debuglog("stream"):function(){};var y=i(379),m=i(25),g=i(776).getHighWaterMark,b=i(646).q,v=b.ERR_INVALID_ARG_TYPE,w=b.ERR_STREAM_PUSH_AFTER_EOF,_=b.ERR_METHOD_NOT_IMPLEMENTED,x=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;i(782)(j,f);var S=m.errorOrDestroy,E=["error","close","destroy","pause","resume"];function O(e,t,r){o=o||i(403),e=e||{},"boolean"!=typeof r&&(r=t instanceof o),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",r),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(s||(s=i(704).s),this.decoder=new s(e.encoding),this.encoding=e.encoding)}function j(e){if(o=o||i(403),!(this instanceof j))return new j(e);var t=this instanceof o;this._readableState=new O(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),f.call(this)}function A(e,t,r,n,i){a("readableAddChunk",t);var o,s,l,u,c,f=e._readableState;if(null===t)f.reading=!1,function(e,t){if(a("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?T(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,N(e)))}}(e,f);else{if(i||(o=f,s=t,d.isBuffer(s)||s instanceof p||"string"==typeof s||void 0===s||o.objectMode||(l=new v("chunk",["string","Buffer","Uint8Array"],s)),c=l),c)S(e,c);else if(f.objectMode||t&&t.length>0){if("string"==typeof t||f.objectMode||Object.getPrototypeOf(t)===d.prototype||(u=t,t=d.from(u)),n)f.endEmitted?S(e,new x):k(e,f,t,!0);else if(f.ended)S(e,new w);else{if(f.destroyed)return!1;f.reading=!1,f.decoder&&!r?(t=f.decoder.write(t),f.objectMode||0!==t.length?k(e,f,t,!1):L(e,f)):k(e,f,t,!1)}}else n||(f.reading=!1,L(e,f))}return!f.ended&&(f.length<f.highWaterMark||0===f.length)}function k(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&T(e)),L(e,t)}function R(e,t){if(e<=0||0===t.length&&t.ended)return 0;if(t.objectMode)return 1;if(e!=e)return t.flowing&&t.length?t.buffer.head.data.length:t.length;if(e>t.highWaterMark){var r;t.highWaterMark=((r=e)>=0x40000000?r=0x40000000:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),r)}return e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0)}function T(e){var t=e._readableState;a("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(a("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(N,e))}function N(e){var t=e._readableState;a("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,D(e)}function L(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(I,e,t))}function I(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(a("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function M(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function C(e){a("readable nexttick read 0"),e.read(0)}function P(e,t){a("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),D(e),t.flowing&&!t.reading&&e.read(0)}function D(e){var t=e._readableState;for(a("flow",t.flowing);t.flowing&&null!==e.read(););}function B(e,t){var r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r)}function F(e){var t=e._readableState;a("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(U,t,e))}function U(e,t){if(a("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function V(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return -1}Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),j.prototype.destroy=m.destroy,j.prototype._undestroy=m.undestroy,j.prototype._destroy=function(e,t){t(e)},j.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=d.from(e,t),t=""),r=!0),A(this,e,t,!1,r)},j.prototype.unshift=function(e){return A(this,e,null,!0,!1)},j.prototype.isPaused=function(){return!1===this._readableState.flowing},j.prototype.setEncoding=function(e){s||(s=i(704).s);var t=new s(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this},j.prototype.read=function(e){a("read",e),e=parseInt(e,10);var t,r=this._readableState,n=e;if(0!==e&&(r.emittedReadable=!1),0===e&&r.needReadable&&((0!==r.highWaterMark?r.length>=r.highWaterMark:r.length>0)||r.ended))return a("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?F(this):T(this),null;if(0===(e=R(e,r))&&r.ended)return 0===r.length&&F(this),null;var i=r.needReadable;return a("need readable",i),(0===r.length||r.length-e<r.highWaterMark)&&a("length less than watermark",i=!0),r.ended||r.reading?a("reading or ended",i=!1):i&&(a("do read"),r.reading=!0,r.sync=!0,0===r.length&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=R(n,r))),null===(t=e>0?B(e,r):null)?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.awaitDrain=0),0===r.length&&(r.ended||(r.needReadable=!0),n!==e&&r.ended&&F(this)),null!==t&&this.emit("data",t),t},j.prototype._read=function(e){S(this,new _("_read()"))},j.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,a("pipe count=%d opts=%j",i.pipesCount,t);var o=t&&!1===t.end||e===n.stdout||e===n.stderr?y:s;function s(){a("onend"),e.end()}i.endEmitted?n.nextTick(o):r.once("end",o),e.on("unpipe",function t(n,o){a("onunpipe"),n===r&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,a("cleanup"),e.removeListener("close",p),e.removeListener("finish",h),e.removeListener("drain",l),e.removeListener("error",d),e.removeListener("unpipe",t),r.removeListener("end",s),r.removeListener("end",y),r.removeListener("data",f),u=!0,i.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&l())});var l=function(){var e=r._readableState;a("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&c(r,"data")&&(e.flowing=!0,D(r))};e.on("drain",l);var u=!1;function f(t){a("ondata");var n=e.write(t);a("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==V(i.pipes,e))&&!u&&(a("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function d(t){a("onerror",t),y(),e.removeListener("error",d),0===c(e,"error")&&S(e,t)}function p(){e.removeListener("finish",h),y()}function h(){a("onfinish"),e.removeListener("close",p),y()}function y(){a("unpipe"),r.unpipe(e)}return r.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",d),e.once("close",p),e.once("finish",h),e.emit("pipe",r),i.flowing||(a("pipe resume"),r.resume()),e},j.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=V(t.pipes,e);return -1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},j.prototype.on=function(e,t){var r=f.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"!==e||i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,a("on readable",i.length,i.reading),i.length?T(this):i.reading||n.nextTick(C,this)),r},j.prototype.addListener=j.prototype.on,j.prototype.removeListener=function(e,t){var r=f.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(M,this),r},j.prototype.removeAllListeners=function(e){var t=f.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&n.nextTick(M,this),t},j.prototype.resume=function(){var e=this._readableState;return e.flowing||(a("resume"),e.flowing=!e.readableListening,e.resumeScheduled||(e.resumeScheduled=!0,n.nextTick(P,this,e))),e.paused=!1,this},j.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},j.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",function(){if(a("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){a("wrapped data"),r.decoder&&(i=r.decoder.write(i)),(!r.objectMode||null!=i)&&(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<E.length;o++)e.on(E[o],this.emit.bind(this,E[o]));return this._read=function(t){a("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(j.prototype[Symbol.asyncIterator]=function(){return void 0===l&&(l=i(871)),l(this)}),Object.defineProperty(j.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(j.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(j.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),j._fromList=B,Object.defineProperty(j.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(j.from=function(e,t){return void 0===u&&(u=i(727)),u(j,e,t)})},170:function(e,t,r){"use strict";e.exports=c;var n=r(646).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,l=r(403);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function c(e){if(!(this instanceof c))return new c(e);l.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush(function(t,r){d(e,t,r)})}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}r(782)(c,l),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,r){r(new i("_transform()"))},c.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,function(e){t(e)})}},337:function(e,t,i){"use strict";function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){(function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(void 0),n=n.next}t.corkedRequestsFree.next=e})(t,e)}}e.exports=j,j.WritableState=O;var a,s,l={deprecate:i(769)},u=i(678),c=i(300).Buffer,f=r.g.Uint8Array||function(){},d=i(25),p=i(776).getHighWaterMark,h=i(646).q,y=h.ERR_INVALID_ARG_TYPE,m=h.ERR_METHOD_NOT_IMPLEMENTED,g=h.ERR_MULTIPLE_CALLBACK,b=h.ERR_STREAM_CANNOT_PIPE,v=h.ERR_STREAM_DESTROYED,w=h.ERR_STREAM_NULL_VALUES,_=h.ERR_STREAM_WRITE_AFTER_END,x=h.ERR_UNKNOWN_ENCODING,S=d.errorOrDestroy;function E(){}function O(e,t,r){a=a||i(403),e=e||{},"boolean"!=typeof r&&(r=t instanceof a),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=p(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){(function(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if("function"!=typeof o)throw new g;if(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t)--r.pendingcb,i?(n.nextTick(o,t),n.nextTick(L,e,r),e._writableState.errorEmitted=!0,S(e,t)):(o(t),e._writableState.errorEmitted=!0,S(e,t),L(e,r));else{var a=T(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||R(e,r),i?n.nextTick(k,e,r,a,o):k(e,r,a,o)}})(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function j(e){var t=this instanceof(a=a||i(403));if(!t&&!s.call(j,this))return new j(e);this._writableState=new O(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function A(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function k(e,t,r,n){r||0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain")),t.pendingcb--,n(),L(e,t)}function R(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=Array(t.bufferedRequestCount),i=t.corkedRequestsFree;i.entry=r;for(var a=0,s=!0;r;)n[a]=r,r.isBuf||(s=!1),r=r.next,a+=1;n.allBuffers=s,A(e,t,!0,t.length,n,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,u=r.encoding,c=r.callback,f=t.objectMode?1:l.length;if(A(e,t,!1,f,l,u,c),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function T(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function N(e,t){e._final(function(r){t.pendingcb--,r&&S(e,r),t.prefinished=!0,e.emit("prefinish"),L(e,t)})}function L(e,t){var r=T(t);if(r&&(t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(N,e,t))),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}i(782)(j,u),O.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(O.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(j,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===j&&e&&e._writableState instanceof O}})):s=function(e){return e instanceof this},j.prototype.pipe=function(){S(this,new b)},j.prototype.write=function(e,t,r){var i,o,a,s,l,u,d,p=this._writableState,h=!1,m=!p.objectMode&&(i=e,c.isBuffer(i)||i instanceof f);return m&&!c.isBuffer(e)&&(o=e,e=c.from(o)),("function"==typeof t&&(r=t,t=null),m?t="buffer":t||(t=p.defaultEncoding),"function"!=typeof r&&(r=E),p.ending)?(a=r,S(this,s=new _),n.nextTick(a,s)):(m||(l=e,u=r,null===l?d=new w:"string"==typeof l||p.objectMode||(d=new y("chunk",["string","Buffer"],l)),!d||(S(this,d),n.nextTick(u,d),0)))&&(p.pendingcb++,h=function(e,t,r,n,i,o){if(!r){var a,s,l=(a=n,s=i,t.objectMode||!1===t.decodeStrings||"string"!=typeof a||(a=c.from(a,s)),a);n!==l&&(r=!0,i="buffer",n=l)}var u=t.objectMode?1:n.length;t.length+=u;var f=t.length<t.highWaterMark;if(f||(t.needDrain=!0),t.writing||t.corked){var d=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},d?d.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else A(e,t,!1,u,n,i,o);return f}(this,p,m,e,t,r)),h},j.prototype.cork=function(){this._writableState.corked++},j.prototype.uncork=function(){var e=this._writableState;!e.corked||(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||R(this,e))},j.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new x(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(j.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(j.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),j.prototype._write=function(e,t,r){r(new m("_write()"))},j.prototype._writev=null,j.prototype.end=function(e,t,r){var i,o=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),o.corked&&(o.corked=1,this.uncork()),o.ending||(i=r,o.ending=!0,L(this,o),i&&(o.finished?n.nextTick(i):this.once("finish",i)),o.ended=!0,this.writable=!1),this},Object.defineProperty(j.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),j.prototype.destroy=d.destroy,j.prototype._undestroy=d.undestroy,j.prototype._destroy=function(e,t){t(e)}},871:function(e,t,r){"use strict";function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o,a=r(698),s=Symbol("lastResolve"),l=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),f=Symbol("lastPromise"),d=Symbol("handlePromise"),p=Symbol("stream");function h(e,t){return{value:e,done:t}}function y(e){var t=e[s];if(null!==t){var r=e[p].read();null!==r&&(e[f]=null,e[s]=null,e[l]=null,t(h(r,!1)))}}function m(e){n.nextTick(y,e)}var g=Object.getPrototypeOf(function(){}),b=Object.setPrototypeOf((i(o={get stream(){return this[p]},next:function(){var e,t,r=this,i=this[u];if(null!==i)return Promise.reject(i);if(this[c])return Promise.resolve(h(void 0,!0));if(this[p].destroyed)return new Promise(function(e,t){n.nextTick(function(){r[u]?t(r[u]):e(h(void 0,!0))})});var o=this[f];if(o)t=new Promise((e=this,function(t,r){o.then(function(){if(e[c]){t(h(void 0,!0));return}e[d](t,r)},r)}));else{var a=this[p].read();if(null!==a)return Promise.resolve(h(a,!1));t=new Promise(this[d])}return this[f]=t,t}},Symbol.asyncIterator,function(){return this}),i(o,"return",function(){var e=this;return new Promise(function(t,r){e[p].destroy(null,function(e){if(e){r(e);return}t(h(void 0,!0))})})}),o),g);e.exports=function(e){var t,r=Object.create(b,(i(t={},p,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,l,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var n=r[p].read();n?(r[f]=null,r[s]=null,r[l]=null,e(h(n,!1))):(r[s]=e,r[l]=t)},writable:!0}),t));return r[f]=null,a(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[l];null!==t&&(r[f]=null,r[s]=null,r[l]=null,t(e)),r[u]=e;return}var n=r[s];null!==n&&(r[f]=null,r[s]=null,r[l]=null,n(h(void 0,!0))),r[c]=!0}),e.on("readable",m.bind(null,r)),r}},379:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var i=r(300).Buffer,o=r(837).inspect,a=o&&o.custom||"inspect";e.exports=function(){var e;function t(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return e=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return i.alloc(0);for(var t,r,n=i.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,r=a,i.prototype.copy.call(t,n,r),a+=o.data.length,o=o.next;return n}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=i.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(t,t.length-e,0,a),0==(e-=a)){a===o.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=o.slice(a));break}++n}return this.length-=n,t}},{key:a,value:function(e,t){return o(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t,{depth:0,customInspect:!1}))}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,e),t}()},25:function(e){"use strict";function t(e,t){i(e,t),r(e)}function r(e){(!e._writableState||e._writableState.emitClose)&&(!e._readableState||e._readableState.emitClose)&&e.emit("close")}function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,o){var a=this,s=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return s||l?o?o(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(i,this,e)):n.nextTick(i,this,e)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!o&&e?a._writableState?a._writableState.errorEmitted?n.nextTick(r,a):(a._writableState.errorEmitted=!0,n.nextTick(t,a,e)):n.nextTick(t,a,e):o?(n.nextTick(r,a),o(e)):n.nextTick(r,a)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},698:function(e,t,r){"use strict";var n=r(646).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),a=o||i,s=!1,o=function(){if(!s){s=!0;for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];a.apply(this,t)}};var a,s,l=r.readable||!1!==r.readable&&t.readable,u=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||d()},f=t._writableState&&t._writableState.finished,d=function(){u=!1,f=!0,l||o.call(t)},p=t._readableState&&t._readableState.endEmitted,h=function(){l=!1,p=!0,u||o.call(t)},y=function(e){o.call(t,e)},m=function(){var e;return l&&!p?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):u&&!f?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},g=function(){t.req.on("finish",d)};return t.setHeader&&"function"==typeof t.abort?(t.on("complete",d),t.on("abort",m),t.req?g():t.on("request",g)):u&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",h),t.on("finish",d),!1!==r.error&&t.on("error",y),t.on("close",m),function(){t.removeListener("complete",d),t.removeListener("abort",m),t.removeListener("request",g),t.req&&t.req.removeListener("finish",d),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",d),t.removeListener("end",h),t.removeListener("error",y),t.removeListener("close",m)}}},727:function(e,t,r){"use strict";function n(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,i)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var o=r(646).q.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,r){if(t&&"function"==typeof t.next)a=t;else if(t&&t[Symbol.asyncIterator])a=t[Symbol.asyncIterator]();else if(t&&t[Symbol.iterator])a=t[Symbol.iterator]();else throw new o("iterable",["Iterable"],t);var a,s=new e(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({objectMode:!0},r)),l=!1;function u(){return c.apply(this,arguments)}function c(){var e;return e=function*(){try{var e=yield a.next(),t=e.value;e.done?s.push(null):s.push((yield t))?u():l=!1}catch(e){s.destroy(e)}},(c=function(){var t=this,r=arguments;return new Promise(function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,l,"next",e)}function l(e){n(a,i,o,s,l,"throw",e)}s(void 0)})}).apply(this,arguments)}return s._read=function(){l||(l=!0,u())},s}},442:function(e,t,r){"use strict";var n,i=r(646).q,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function l(e){e()}function u(e,t){return e.pipe(t)}e.exports=function(){for(var e,t,i=arguments.length,c=Array(i),f=0;f<i;f++)c[f]=arguments[f];var d=(e=c).length&&"function"==typeof e[e.length-1]?e.pop():s;if(Array.isArray(c[0])&&(c=c[0]),c.length<2)throw new o("streams");var p=c.map(function(e,i){var o,s,u,f,h,y,m=i<c.length-1;return o=i>0,u=s=function(e){t||(t=e),e&&p.forEach(l),m||(p.forEach(l),d(t))},f=!1,s=function(){f||(f=!0,u.apply(void 0,arguments))},h=!1,e.on("close",function(){h=!0}),void 0===n&&(n=r(698)),n(e,{readable:m,writable:o},function(e){if(e)return s(e);h=!0,s()}),y=!1,function(t){if(!h&&!y){if(y=!0,e.setHeader&&"function"==typeof e.abort)return e.abort();if("function"==typeof e.destroy)return e.destroy();s(t||new a("pipe"))}}});return c.reduce(u)}},776:function(e,t,r){"use strict";var n=r(646).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=null!=t.highWaterMark?t.highWaterMark:i?t[r]:null;if(null!=o){if(!(isFinite(o)&&Math.floor(o)===o)||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},678:function(e,t,r){e.exports=r(781)},55:function(e,t,r){var n=r(300),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n.SlowBuffer(e)}},173:function(e,t,r){e.exports=i;var n=r(361).EventEmitter;function i(){n.call(this)}r(782)(i,n),i.Readable=r(709),i.Writable=r(337),i.Duplex=r(403),i.Transform=r(170),i.PassThrough=r(889),i.finished=r(698),i.pipeline=r(442),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",l));var a=!1;function s(){a||(a=!0,e.end())}function l(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(c(),0===n.listenerCount(this,"error"))throw e}function c(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",l),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return r.on("error",u),e.on("error",u),r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e}},704:function(e,t,r){"use strict";var n=r(55).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){var t;if(!e)return"utf8";for(;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=f,t=3;break;default:this.write=d,this.end=p;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if((192&t[0])!=128)return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,""}}(this,e,0);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function l(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function c(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){var t,r;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},769:function(e){e.exports=function(e,r){if(t("noDeprecation"))return e;var n=!1;return function(){if(!n){if(t("throwDeprecation"))throw Error(r);t("traceDeprecation")?console.trace(r):console.warn(r),n=!0}return e.apply(this,arguments)}};function t(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}},300:function(e){"use strict";e.exports=r(38524)},361:function(e){"use strict";e.exports=r(80196)},781:function(e){"use strict";e.exports=r(80196).EventEmitter},837:function(e){"use strict";e.exports=r(61446)}},i={};function o(e){var r=i[e];if(void 0!==r)return r.exports;var n=i[e]={exports:{}},a=!0;try{t[e](n,n.exports,o),a=!1}finally{a&&delete i[e]}return n.exports}o.ab="//";var a=o(173);e.exports=a}()},61446:(e,t,r)=>{var n=r(38524).Buffer,i=r(37188);!function(){var t={992:function(e){e.exports=function(e,r,n){if(e.filter)return e.filter(r,n);if(null==e||"function"!=typeof r)throw TypeError();for(var i=[],o=0;o<e.length;o++)if(t.call(e,o)){var a=e[o];r.call(n,a,o,e)&&i.push(a)}return i};var t=Object.prototype.hasOwnProperty},256:function(e,t,r){"use strict";var n=r(192),i=r(139),o=i(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&o(e,".prototype.")>-1?i(r):r}},139:function(e,t,r){"use strict";var n=r(212),i=r(192),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||n.call(a,o),l=i("%Object.getOwnPropertyDescriptor%",!0),u=i("%Object.defineProperty%",!0),c=i("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}e.exports=function(e){var t=s(n,a,arguments);return l&&u&&l(t,"length").configurable&&u(t,"length",{value:1+c(0,e.length-(arguments.length-1))}),t};var f=function(){return s(n,o,arguments)};u?u(e.exports,"apply",{value:f}):e.exports.apply=f},181:function(e){"use strict";e.exports=EvalError},545:function(e){"use strict";e.exports=Error},22:function(e){"use strict";e.exports=RangeError},803:function(e){"use strict";e.exports=ReferenceError},182:function(e){"use strict";e.exports=SyntaxError},202:function(e){"use strict";e.exports=TypeError},284:function(e){"use strict";e.exports=URIError},144:function(e){var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,n,i){if("[object Function]"!==r.call(n))throw TypeError("iterator must be a function");var o=e.length;if(o===+o)for(var a=0;a<o;a++)n.call(i,e[a],a,e);else for(var s in e)t.call(e,s)&&n.call(i,e[s],s,e)}},136:function(e){"use strict";var t=Object.prototype.toString,r=Math.max,n=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var i=0;i<t.length;i+=1)r[i+e.length]=t[i];return r},i=function(e,t){for(var r=[],n=t||0,i=0;n<e.length;n+=1,i+=1)r[i]=e[n];return r},o=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r};e.exports=function(e){var a,s=this;if("function"!=typeof s||"[object Function]"!==t.apply(s))throw TypeError("Function.prototype.bind called on incompatible "+s);for(var l=i(arguments,1),u=r(0,s.length-l.length),c=[],f=0;f<u;f++)c[f]="$"+f;if(a=Function("binder","return function ("+o(c,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof a){var t=s.apply(this,n(l,arguments));return Object(t)===t?t:this}return s.apply(e,n(l,arguments))}),s.prototype){var d=function(){};d.prototype=s.prototype,a.prototype=new d,d.prototype=null}return a}},212:function(e,t,r){"use strict";var n=r(136);e.exports=Function.prototype.bind||n},192:function(e,t,r){"use strict";var n,i=r(545),o=r(181),a=r(22),s=r(803),l=r(182),u=r(202),c=r(284),f=Function,d=function(e){try{return f('"use strict"; return ('+e+").constructor;")()}catch(e){}},p=Object.getOwnPropertyDescriptor;if(p)try{p({},"")}catch(e){p=null}var h=function(){throw new u},y=p?function(){try{return arguments.callee,h}catch(e){try{return p(arguments,"callee").get}catch(e){return h}}}():h,m=r(115)(),g=r(14)(),b=Object.getPrototypeOf||(g?function(e){return e.__proto__}:null),v={},w="undefined"!=typeof Uint8Array&&b?b(Uint8Array):n,_={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":m&&b?b([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":v,"%AsyncGenerator%":v,"%AsyncGeneratorFunction%":v,"%AsyncIteratorPrototype%":v,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":o,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":f,"%GeneratorFunction%":v,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":m&&b?b(b([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&m&&b?b(new Map()[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":a,"%ReferenceError%":s,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&m&&b?b(new Set()[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":m&&b?b(""[Symbol.iterator]()):n,"%Symbol%":m?Symbol:n,"%SyntaxError%":l,"%ThrowTypeError%":y,"%TypedArray%":w,"%TypeError%":u,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":c,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};if(b)try{null.error}catch(e){var x=b(b(e));_["%Error.prototype%"]=x}var S=function e(t){var r;if("%AsyncFunction%"===t)r=d("async function () {}");else if("%GeneratorFunction%"===t)r=d("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=d("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&b&&(r=b(i.prototype))}return _[t]=r,r},E={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},O=r(212),j=r(270),A=O.call(Function.call,Array.prototype.concat),k=O.call(Function.apply,Array.prototype.splice),R=O.call(Function.call,String.prototype.replace),T=O.call(Function.call,String.prototype.slice),N=O.call(Function.call,RegExp.prototype.exec),L=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,I=/\\(\\)?/g,M=function(e){var t=T(e,0,1),r=T(e,-1);if("%"===t&&"%"!==r)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new l("invalid intrinsic syntax, expected opening `%`");var n=[];return R(e,L,function(e,t,r,i){n[n.length]=r?R(i,I,"$1"):t||e}),n},C=function(e,t){var r,n=e;if(j(E,n)&&(n="%"+(r=E[n])[0]+"%"),j(_,n)){var i=_[n];if(i===v&&(i=S(n)),void 0===i&&!t)throw new u("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new l("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new u('"allowMissing" argument must be a boolean');if(null===N(/^%?[^%]*%?$/,e))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=M(e),n=r.length>0?r[0]:"",i=C("%"+n+"%",t),o=i.name,a=i.value,s=!1,c=i.alias;c&&(n=c[0],k(r,A([0,1],c)));for(var f=1,d=!0;f<r.length;f+=1){var h=r[f],y=T(h,0,1),m=T(h,-1);if(('"'===y||"'"===y||"`"===y||'"'===m||"'"===m||"`"===m)&&y!==m)throw new l("property names with quotes must have matching quotes");if("constructor"!==h&&d||(s=!0),n+="."+h,j(_,o="%"+n+"%"))a=_[o];else if(null!=a){if(!(h in a)){if(!t)throw new u("base intrinsic for "+e+" exists, but the property is not available.");return}if(p&&f+1>=r.length){var g=p(a,h);a=(d=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:a[h]}else d=j(a,h),a=a[h];d&&!s&&(_[o]=a)}}return a}},14:function(e){"use strict";var t={__proto__:null,foo:{}},r=Object;e.exports=function(){return({__proto__:t}).foo===t.foo&&!(t instanceof r)}},942:function(e,t,r){"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(773);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},773:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},115:function(e,t,r){"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(832);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},832:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},270:function(e,t,r){"use strict";var n=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=r(212);e.exports=o.call(n,i)},782:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},157:function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,r=Object.prototype.toString,n=function(e){return(!t||!e||"object"!=typeof e||!(Symbol.toStringTag in e))&&"[object Arguments]"===r.call(e)},i=function(e){return!!n(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==r.call(e)&&"[object Function]"===r.call(e.callee)},o=function(){return n(arguments)}();n.isLegacyArguments=i,e.exports=o?n:i},391:function(e){"use strict";var t=Object.prototype.toString,r=Function.prototype.toString,n=/^\s*(?:function)?\*/,i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,o=Object.getPrototypeOf,a=function(){if(!i)return!1;try{return Function("return function*() {}")()}catch(e){}}(),s=a?o(a):{};e.exports=function(e){return"function"==typeof e&&(!!n.test(r.call(e))||(i?o(e)===s:"[object GeneratorFunction]"===t.call(e)))}},994:function(e,t,n){"use strict";var i=n(144),o=n(349),a=n(256),s=a("Object.prototype.toString"),l=n(942)()&&"symbol"==typeof Symbol.toStringTag,u=o(),c=a("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return -1},f=a("String.prototype.slice"),d={},p=n(24),h=Object.getPrototypeOf;l&&p&&h&&i(u,function(e){var t=new r.g[e];if(!(Symbol.toStringTag in t))throw EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var n=h(t),i=p(n,Symbol.toStringTag);i||(i=p(h(n),Symbol.toStringTag)),d[e]=i.get});var y=function(e){var t=!1;return i(d,function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}}),t};e.exports=function(e){return!!e&&"object"==typeof e&&(l?!!p&&y(e):c(u,f(s(e),8,-1))>-1)}},369:function(e){e.exports=function(e){return e instanceof n}},584:function(e,t,r){"use strict";var n=r(157),i=r(391),o=r(490),a=r(994);function s(e){return e.call.bind(e)}var l="undefined"!=typeof BigInt,u="undefined"!=typeof Symbol,c=s(Object.prototype.toString),f=s(Number.prototype.valueOf),d=s(String.prototype.valueOf),p=s(Boolean.prototype.valueOf);if(l)var h=s(BigInt.prototype.valueOf);if(u)var y=s(Symbol.prototype.valueOf);function m(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function g(e){return"[object Map]"===c(e)}function b(e){return"[object Set]"===c(e)}function v(e){return"[object WeakMap]"===c(e)}function w(e){return"[object WeakSet]"===c(e)}function _(e){return"[object ArrayBuffer]"===c(e)}function x(e){return"undefined"!=typeof ArrayBuffer&&(_.working?_(e):e instanceof ArrayBuffer)}function S(e){return"[object DataView]"===c(e)}function E(e){return"undefined"!=typeof DataView&&(S.working?S(e):e instanceof DataView)}t.isArgumentsObject=n,t.isGeneratorFunction=i,t.isTypedArray=a,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):a(e)||E(e)},t.isUint8Array=function(e){return"Uint8Array"===o(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===o(e)},t.isUint16Array=function(e){return"Uint16Array"===o(e)},t.isUint32Array=function(e){return"Uint32Array"===o(e)},t.isInt8Array=function(e){return"Int8Array"===o(e)},t.isInt16Array=function(e){return"Int16Array"===o(e)},t.isInt32Array=function(e){return"Int32Array"===o(e)},t.isFloat32Array=function(e){return"Float32Array"===o(e)},t.isFloat64Array=function(e){return"Float64Array"===o(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===o(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===o(e)},g.working="undefined"!=typeof Map&&g(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(g.working?g(e):e instanceof Map)},b.working="undefined"!=typeof Set&&b(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(b.working?b(e):e instanceof Set)},v.working="undefined"!=typeof WeakMap&&v(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(v.working?v(e):e instanceof WeakMap)},w.working="undefined"!=typeof WeakSet&&w(new WeakSet),t.isWeakSet=function(e){return w(e)},_.working="undefined"!=typeof ArrayBuffer&&_(new ArrayBuffer),t.isArrayBuffer=x,S.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&S(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=E;var O="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function j(e){return"[object SharedArrayBuffer]"===c(e)}function A(e){return void 0!==O&&(void 0===j.working&&(j.working=j(new O)),j.working?j(e):e instanceof O)}function k(e){return m(e,f)}function R(e){return m(e,d)}function T(e){return m(e,p)}function N(e){return l&&m(e,h)}function L(e){return u&&m(e,y)}t.isSharedArrayBuffer=A,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===c(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===c(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===c(e)},t.isGeneratorObject=function(e){return"[object Generator]"===c(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===c(e)},t.isNumberObject=k,t.isStringObject=R,t.isBooleanObject=T,t.isBigIntObject=N,t.isSymbolObject=L,t.isBoxedPrimitive=function(e){return k(e)||R(e)||T(e)||N(e)||L(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(x(e)||A(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw Error(e+" is not supported in userland")}})})},177:function(e,t,r){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},o=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(u(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,i=n.length,a=String(e).replace(o,function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),s=n[r];r<i;s=n[++r])g(s)||!x(s)?a+=" "+s:a+=" "+u(s);return a},t.deprecate=function(e,r){if(void 0!==i&&!0===i.noDeprecation)return e;if(void 0===i)return function(){return t.deprecate(e,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(i.throwDeprecation)throw Error(r);i.traceDeprecation?console.trace(r):console.error(r),n=!0}return e.apply(this,arguments)}};var a={},s=/^$/;if(i.env.NODE_DEBUG){var l=i.env.NODE_DEBUG;s=RegExp("^"+(l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase())+"$","i")}function u(e,r){var n={seen:[],stylize:f};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),m(r)?n.showHidden=r:r&&t._extend(n,r),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),d(n,e,n.depth)}function c(e,t){var r=u.styles[t];return r?"\x1b["+u.colors[r][0]+"m"+e+"\x1b["+u.colors[r][1]+"m":e}function f(e,t){return e}function d(e,r,n){if(e.customInspect&&r&&O(r.inspect)&&r.inspect!==t.inspect&&!(r.constructor&&r.constructor.prototype===r)){var i,o,a,s,l,u=r.inspect(n,e);return v(u)||(u=d(e,u,n)),u}var c=function(e,t){if(w(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return b(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}(e,r);if(c)return c;var f=Object.keys(r),x=(s={},f.forEach(function(e,t){s[e]=!0}),s);if(e.showHidden&&(f=Object.getOwnPropertyNames(r)),E(r)&&(f.indexOf("message")>=0||f.indexOf("description")>=0))return p(r);if(0===f.length){if(O(r)){var j=r.name?": "+r.name:"";return e.stylize("[Function"+j+"]","special")}if(_(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(S(r))return e.stylize(Date.prototype.toString.call(r),"date");if(E(r))return p(r)}var A="",k=!1,T=["{","}"];return(y(r)&&(k=!0,T=["[","]"]),O(r)&&(A=" [Function"+(r.name?": "+r.name:"")+"]"),_(r)&&(A=" "+RegExp.prototype.toString.call(r)),S(r)&&(A=" "+Date.prototype.toUTCString.call(r)),E(r)&&(A=" "+p(r)),0!==f.length||k&&0!=r.length)?n<0?_(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),l=k?function(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)R(t,String(a))?o.push(h(e,t,r,n,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(e,t,r,n,i,!0))}),o}(e,r,n,x,f):f.map(function(t){return h(e,r,n,x,t,k)}),e.seen.pop(),i=A,o=T,a=0,l.reduce(function(e,t){return a++,t.indexOf("\n")>=0&&a++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?o[0]+(""===i?"":i+"\n ")+" "+l.join(",\n  ")+" "+o[1]:o[0]+i+" "+l.join(", ")+" "+o[1]):T[0]+A+T[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,r,n,i,o){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),R(n,i)||(a="["+i+"]"),!s&&(0>e.seen.indexOf(l.value)?(s=g(r)?d(e,l.value,null):d(e,l.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),w(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function y(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function g(e){return null===e}function b(e){return"number"==typeof e}function v(e){return"string"==typeof e}function w(e){return void 0===e}function _(e){return x(e)&&"[object RegExp]"===j(e)}function x(e){return"object"==typeof e&&null!==e}function S(e){return x(e)&&"[object Date]"===j(e)}function E(e){return x(e)&&("[object Error]"===j(e)||e instanceof Error)}function O(e){return"function"==typeof e}function j(e){return Object.prototype.toString.call(e)}function A(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(!a[e=e.toUpperCase()]){if(s.test(e)){var r=i.pid;a[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else a[e]=function(){}}return a[e]},t.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=r(584),t.isArray=y,t.isBoolean=m,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=b,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=w,t.isRegExp=_,t.types.isRegExp=_,t.isObject=x,t.isDate=S,t.types.isDate=S,t.isError=E,t.types.isNativeError=E,t.isFunction=O,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(369);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,r;console.log("%s - %s",(r=[A((e=new Date).getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":"),[e.getDate(),k[e.getMonth()],r].join(" ")),t.format.apply(t,arguments))},t.inherits=r(782),t._extend=function(e,t){if(!t||!x(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var T="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function N(e,t){if(!e){var r=Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw TypeError('The "original" argument must be of type Function');if(T&&e[T]){var t=e[T];if("function"!=typeof t)throw TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,T,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise(function(e,n){t=e,r=n}),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push(function(e,n){e?r(e):t(n)});try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),T&&Object.defineProperty(t,T,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=T,t.callbackify=function(e){if("function"!=typeof e)throw TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var n=t.pop();if("function"!=typeof n)throw TypeError("The last argument must be of type Function");var o=this,a=function(){return n.apply(o,arguments)};e.apply(this,t).then(function(e){i.nextTick(a.bind(null,null,e))},function(e){i.nextTick(N.bind(null,e,a))})}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,n(e)),t}},490:function(e,t,n){"use strict";var i=n(144),o=n(349),a=n(256),s=a("Object.prototype.toString"),l=n(942)()&&"symbol"==typeof Symbol.toStringTag,u=o(),c=a("String.prototype.slice"),f={},d=n(24),p=Object.getPrototypeOf;l&&d&&p&&i(u,function(e){if("function"==typeof r.g[e]){var t=new r.g[e];if(!(Symbol.toStringTag in t))throw EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var n=p(t),i=d(n,Symbol.toStringTag);i||(i=d(p(n),Symbol.toStringTag)),f[e]=i.get}});var h=function(e){var t=!1;return i(f,function(r,n){if(!t)try{var i=r.call(e);i===n&&(t=i)}catch(e){}}),t},y=n(994);e.exports=function(e){return!!y(e)&&(l?h(e):c(s(e),8,-1))}},349:function(e,t,n){"use strict";var i=n(992);e.exports=function(){return i(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],function(e){return"function"==typeof r.g[e]})}},24:function(e,t,r){"use strict";var n=r(192)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(e){n=null}e.exports=n}},o={};function a(e){var r=o[e];if(void 0!==r)return r.exports;var n=o[e]={exports:{}},i=!0;try{t[e](n,n.exports,a),i=!1}finally{i&&delete o[e]}return n.exports}a.ab="//";var s=a(177);e.exports=s}()},80848:(e,t,r)=>{"use strict";var n=r(38524).Buffer,i=r(41653);let o=function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)};class a extends Error{constructor(e,t,r,...i){for(let o of(Array.isArray(t)&&(t=t.join(" ").trim()),super(t),void 0!==Error.captureStackTrace&&Error.captureStackTrace(this,a),this.code=e,i))for(let e in o){let t=o[e];this[e]=n.isBuffer(t)?t.toString(r.encoding):null==t?t:JSON.parse(JSON.stringify(t))}}}let s=function(e){let t=[];for(let r=0,n=e.length;r<n;r++){let n=e[r];if(null==n||!1===n)t[r]={disabled:!0};else if("string"==typeof n)t[r]={name:n};else if(o(n)){if("string"!=typeof n.name)throw new a("CSV_OPTION_COLUMNS_MISSING_NAME",["Option columns missing name:",`property "name" is required at position ${r}`,"when column is an object literal"]);t[r]=n}else throw new a("CSV_INVALID_COLUMN_DEFINITION",["Invalid column definition:","expect a string or a literal object,",`got ${JSON.stringify(n)} at position ${r}`])}return t};class l{constructor(e=100){this.size=e,this.length=0,this.buf=n.allocUnsafe(e)}prepend(e){if(n.isBuffer(e)){let t=this.length+e.length;if(t>=this.size&&(this.resize(),t>=this.size))throw Error("INVALID_BUFFER_STATE");let r=this.buf;this.buf=n.allocUnsafe(this.size),e.copy(this.buf,0),r.copy(this.buf,e.length),this.length+=e.length}else{let t=this.length++;t===this.size&&this.resize();let r=this.clone();this.buf[0]=e,r.copy(this.buf,1,0,t)}}append(e){let t=this.length++;t===this.size&&this.resize(),this.buf[t]=e}clone(){return n.from(this.buf.slice(0,this.length))}resize(){let e=this.length;this.size=2*this.size;let t=n.allocUnsafe(this.size);this.buf.copy(t,0,0,e),this.buf=t}toString(e){return e?this.buf.slice(0,this.length).toString(e):Uint8Array.prototype.slice.call(this.buf.slice(0,this.length))}toJSON(){return this.toString("utf8")}reset(){this.length=0}}let u=function(e){let t={};for(let r in e)t[r.replace(/([A-Z])/g,function(e,t){return"_"+t.toLowerCase()})]=e[r];if(void 0===t.encoding||!0===t.encoding)t.encoding="utf8";else if(null===t.encoding||!1===t.encoding)t.encoding=null;else if("string"!=typeof t.encoding&&null!==t.encoding)throw new a("CSV_INVALID_OPTION_ENCODING",["Invalid option encoding:","encoding must be a string or null to return a buffer,",`got ${JSON.stringify(t.encoding)}`],t);if(void 0===t.bom||null===t.bom||!1===t.bom)t.bom=!1;else if(!0!==t.bom)throw new a("CSV_INVALID_OPTION_BOM",["Invalid option bom:","bom must be true,",`got ${JSON.stringify(t.bom)}`],t);if(t.cast_function=null,void 0===t.cast||null===t.cast||!1===t.cast||""===t.cast)t.cast=void 0;else if("function"==typeof t.cast)t.cast_function=t.cast,t.cast=!0;else if(!0!==t.cast)throw new a("CSV_INVALID_OPTION_CAST",["Invalid option cast:","cast must be true or a function,",`got ${JSON.stringify(t.cast)}`],t);if(void 0===t.cast_date||null===t.cast_date||!1===t.cast_date||""===t.cast_date)t.cast_date=!1;else if(!0===t.cast_date)t.cast_date=function(e){let t=Date.parse(e);return isNaN(t)?e:new Date(t)};else if("function"!=typeof t.cast_date)throw new a("CSV_INVALID_OPTION_CAST_DATE",["Invalid option cast_date:","cast_date must be true or a function,",`got ${JSON.stringify(t.cast_date)}`],t);if(t.cast_first_line_to_header=null,!0===t.columns)t.cast_first_line_to_header=void 0;else if("function"==typeof t.columns)t.cast_first_line_to_header=t.columns,t.columns=!0;else if(Array.isArray(t.columns))t.columns=s(t.columns);else if(void 0===t.columns||null===t.columns||!1===t.columns)t.columns=!1;else throw new a("CSV_INVALID_OPTION_COLUMNS",["Invalid option columns:","expect an array, a function or true,",`got ${JSON.stringify(t.columns)}`],t);if(void 0===t.group_columns_by_name||null===t.group_columns_by_name||!1===t.group_columns_by_name)t.group_columns_by_name=!1;else if(!0!==t.group_columns_by_name)throw new a("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","expect an boolean,",`got ${JSON.stringify(t.group_columns_by_name)}`],t);else if(!1===t.columns)throw new a("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","the `columns` mode must be activated."],t);if(void 0===t.comment||null===t.comment||!1===t.comment||""===t.comment)t.comment=null;else if("string"==typeof t.comment&&(t.comment=n.from(t.comment,t.encoding)),!n.isBuffer(t.comment))throw new a("CSV_INVALID_OPTION_COMMENT",["Invalid option comment:","comment must be a buffer or a string,",`got ${JSON.stringify(t.comment)}`],t);if(void 0===t.comment_no_infix||null===t.comment_no_infix||!1===t.comment_no_infix)t.comment_no_infix=!1;else if(!0!==t.comment_no_infix)throw new a("CSV_INVALID_OPTION_COMMENT",["Invalid option comment_no_infix:","value must be a boolean,",`got ${JSON.stringify(t.comment_no_infix)}`],t);let r=JSON.stringify(t.delimiter);if(Array.isArray(t.delimiter)||(t.delimiter=[t.delimiter]),0===t.delimiter.length)throw new a("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${r}`],t);if(t.delimiter=t.delimiter.map(function(e){if(null==e||!1===e)return n.from(",",t.encoding);if("string"==typeof e&&(e=n.from(e,t.encoding)),!n.isBuffer(e)||0===e.length)throw new a("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${r}`],t);return e}),void 0===t.escape||!0===t.escape?t.escape=n.from('"',t.encoding):"string"==typeof t.escape?t.escape=n.from(t.escape,t.encoding):(null===t.escape||!1===t.escape)&&(t.escape=null),null!==t.escape&&!n.isBuffer(t.escape))throw Error(`Invalid Option: escape must be a buffer, a string or a boolean, got ${JSON.stringify(t.escape)}`);if(void 0===t.from||null===t.from)t.from=1;else if("string"==typeof t.from&&/\d+/.test(t.from)&&(t.from=parseInt(t.from)),Number.isInteger(t.from)){if(t.from<0)throw Error(`Invalid Option: from must be a positive integer, got ${JSON.stringify(e.from)}`)}else throw Error(`Invalid Option: from must be an integer, got ${JSON.stringify(t.from)}`);if(void 0===t.from_line||null===t.from_line)t.from_line=1;else if("string"==typeof t.from_line&&/\d+/.test(t.from_line)&&(t.from_line=parseInt(t.from_line)),Number.isInteger(t.from_line)){if(t.from_line<=0)throw Error(`Invalid Option: from_line must be a positive integer greater than 0, got ${JSON.stringify(e.from_line)}`)}else throw Error(`Invalid Option: from_line must be an integer, got ${JSON.stringify(e.from_line)}`);if(void 0===t.ignore_last_delimiters||null===t.ignore_last_delimiters)t.ignore_last_delimiters=!1;else if("number"==typeof t.ignore_last_delimiters)t.ignore_last_delimiters=Math.floor(t.ignore_last_delimiters),0===t.ignore_last_delimiters&&(t.ignore_last_delimiters=!1);else if("boolean"!=typeof t.ignore_last_delimiters)throw new a("CSV_INVALID_OPTION_IGNORE_LAST_DELIMITERS",["Invalid option `ignore_last_delimiters`:","the value must be a boolean value or an integer,",`got ${JSON.stringify(t.ignore_last_delimiters)}`],t);if(!0===t.ignore_last_delimiters&&!1===t.columns)throw new a("CSV_IGNORE_LAST_DELIMITERS_REQUIRES_COLUMNS",["The option `ignore_last_delimiters`","requires the activation of the `columns` option"],t);if(void 0===t.info||null===t.info||!1===t.info)t.info=!1;else if(!0!==t.info)throw Error(`Invalid Option: info must be true, got ${JSON.stringify(t.info)}`);if(void 0===t.max_record_size||null===t.max_record_size||!1===t.max_record_size)t.max_record_size=0;else if(Number.isInteger(t.max_record_size)&&t.max_record_size>=0);else if("string"==typeof t.max_record_size&&/\d+/.test(t.max_record_size))t.max_record_size=parseInt(t.max_record_size);else throw Error(`Invalid Option: max_record_size must be a positive integer, got ${JSON.stringify(t.max_record_size)}`);if(void 0===t.objname||null===t.objname||!1===t.objname)t.objname=void 0;else if(n.isBuffer(t.objname)){if(0===t.objname.length)throw Error("Invalid Option: objname must be a non empty buffer");null===t.encoding||(t.objname=t.objname.toString(t.encoding))}else if("string"==typeof t.objname){if(0===t.objname.length)throw Error("Invalid Option: objname must be a non empty string")}else if("number"==typeof t.objname);else throw Error(`Invalid Option: objname must be a string or a buffer, got ${t.objname}`);if(void 0!==t.objname){if("number"==typeof t.objname){if(!1!==t.columns)throw Error("Invalid Option: objname index cannot be combined with columns or be defined as a field")}else if(!1===t.columns)throw Error("Invalid Option: objname field must be combined with columns or be defined as an index")}if(void 0===t.on_record||null===t.on_record)t.on_record=void 0;else if("function"!=typeof t.on_record)throw new a("CSV_INVALID_OPTION_ON_RECORD",["Invalid option `on_record`:","expect a function,",`got ${JSON.stringify(t.on_record)}`],t);if(void 0!==t.on_skip&&null!==t.on_skip&&"function"!=typeof t.on_skip)throw Error(`Invalid Option: on_skip must be a function, got ${JSON.stringify(t.on_skip)}`);if(null===t.quote||!1===t.quote||""===t.quote)t.quote=null;else if(void 0===t.quote||!0===t.quote?t.quote=n.from('"',t.encoding):"string"==typeof t.quote&&(t.quote=n.from(t.quote,t.encoding)),!n.isBuffer(t.quote))throw Error(`Invalid Option: quote must be a buffer or a string, got ${JSON.stringify(t.quote)}`);if(void 0===t.raw||null===t.raw||!1===t.raw)t.raw=!1;else if(!0!==t.raw)throw Error(`Invalid Option: raw must be true, got ${JSON.stringify(t.raw)}`);if(void 0===t.record_delimiter)t.record_delimiter=[];else if("string"==typeof t.record_delimiter||n.isBuffer(t.record_delimiter)){if(0===t.record_delimiter.length)throw new a("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer,",`got ${JSON.stringify(t.record_delimiter)}`],t);t.record_delimiter=[t.record_delimiter]}else if(!Array.isArray(t.record_delimiter))throw new a("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer,",`got ${JSON.stringify(t.record_delimiter)}`],t);if(t.record_delimiter=t.record_delimiter.map(function(e,r){if("string"==typeof e||n.isBuffer(e)){if(0===e.length)throw new a("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer",`at index ${r},`,`got ${JSON.stringify(e)}`],t)}else throw new a("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer",`at index ${r},`,`got ${JSON.stringify(e)}`],t);return"string"==typeof e&&(e=n.from(e,t.encoding)),e}),"boolean"==typeof t.relax_column_count);else if(void 0===t.relax_column_count||null===t.relax_column_count)t.relax_column_count=!1;else throw Error(`Invalid Option: relax_column_count must be a boolean, got ${JSON.stringify(t.relax_column_count)}`);if("boolean"==typeof t.relax_column_count_less);else if(void 0===t.relax_column_count_less||null===t.relax_column_count_less)t.relax_column_count_less=!1;else throw Error(`Invalid Option: relax_column_count_less must be a boolean, got ${JSON.stringify(t.relax_column_count_less)}`);if("boolean"==typeof t.relax_column_count_more);else if(void 0===t.relax_column_count_more||null===t.relax_column_count_more)t.relax_column_count_more=!1;else throw Error(`Invalid Option: relax_column_count_more must be a boolean, got ${JSON.stringify(t.relax_column_count_more)}`);if("boolean"==typeof t.relax_quotes);else if(void 0===t.relax_quotes||null===t.relax_quotes)t.relax_quotes=!1;else throw Error(`Invalid Option: relax_quotes must be a boolean, got ${JSON.stringify(t.relax_quotes)}`);if("boolean"==typeof t.skip_empty_lines);else if(void 0===t.skip_empty_lines||null===t.skip_empty_lines)t.skip_empty_lines=!1;else throw Error(`Invalid Option: skip_empty_lines must be a boolean, got ${JSON.stringify(t.skip_empty_lines)}`);if("boolean"==typeof t.skip_records_with_empty_values);else if(void 0===t.skip_records_with_empty_values||null===t.skip_records_with_empty_values)t.skip_records_with_empty_values=!1;else throw Error(`Invalid Option: skip_records_with_empty_values must be a boolean, got ${JSON.stringify(t.skip_records_with_empty_values)}`);if("boolean"==typeof t.skip_records_with_error);else if(void 0===t.skip_records_with_error||null===t.skip_records_with_error)t.skip_records_with_error=!1;else throw Error(`Invalid Option: skip_records_with_error must be a boolean, got ${JSON.stringify(t.skip_records_with_error)}`);if(void 0===t.rtrim||null===t.rtrim||!1===t.rtrim)t.rtrim=!1;else if(!0!==t.rtrim)throw Error(`Invalid Option: rtrim must be a boolean, got ${JSON.stringify(t.rtrim)}`);if(void 0===t.ltrim||null===t.ltrim||!1===t.ltrim)t.ltrim=!1;else if(!0!==t.ltrim)throw Error(`Invalid Option: ltrim must be a boolean, got ${JSON.stringify(t.ltrim)}`);if(void 0===t.trim||null===t.trim||!1===t.trim)t.trim=!1;else if(!0!==t.trim)throw Error(`Invalid Option: trim must be a boolean, got ${JSON.stringify(t.trim)}`);if(!0===t.trim&&!1!==e.ltrim?t.ltrim=!0:!0!==t.ltrim&&(t.ltrim=!1),!0===t.trim&&!1!==e.rtrim?t.rtrim=!0:!0!==t.rtrim&&(t.rtrim=!1),void 0===t.to||null===t.to)t.to=-1;else if("string"==typeof t.to&&/\d+/.test(t.to)&&(t.to=parseInt(t.to)),Number.isInteger(t.to)){if(t.to<=0)throw Error(`Invalid Option: to must be a positive integer greater than 0, got ${JSON.stringify(e.to)}`)}else throw Error(`Invalid Option: to must be an integer, got ${JSON.stringify(e.to)}`);if(void 0===t.to_line||null===t.to_line)t.to_line=-1;else if("string"==typeof t.to_line&&/\d+/.test(t.to_line)&&(t.to_line=parseInt(t.to_line)),Number.isInteger(t.to_line)){if(t.to_line<=0)throw Error(`Invalid Option: to_line must be a positive integer greater than 0, got ${JSON.stringify(e.to_line)}`)}else throw Error(`Invalid Option: to_line must be an integer, got ${JSON.stringify(e.to_line)}`);return t},c=function(e){return e.every(e=>null==e||e.toString&&""===e.toString().trim())},f={utf8:n.from([239,187,191]),utf16le:n.from([255,254])},d=function(e={}){let t=u(e);return{info:{bytes:0,comment_lines:0,empty_lines:0,invalid_field_length:0,lines:1,records:0},original_options:e,options:t,state:{bomSkipped:!1,bufBytesStart:0,castField:t.cast_function,commenting:!1,error:void 0,enabled:1===t.from_line,escaping:!1,escapeIsQuote:n.isBuffer(t.escape)&&n.isBuffer(t.quote)&&0===n.compare(t.escape,t.quote),expectedRecordLength:Array.isArray(t.columns)?t.columns.length:void 0,field:new l(20),firstLineToHeaders:t.cast_first_line_to_header,needMoreDataSize:Math.max(null!==t.comment?t.comment.length:0,...t.delimiter.map(e=>e.length),null!==t.quote?t.quote.length:0),previousBuf:void 0,quoting:!1,stop:!1,rawBuffer:new l(100),record:[],recordHasError:!1,record_length:0,recordDelimiterMaxLength:0===t.record_delimiter.length?0:Math.max(...t.record_delimiter.map(e=>e.length)),trimChars:[n.from(" ",t.encoding)[0],n.from("	",t.encoding)[0]],wasQuoting:!1,wasRowDelimiter:!1,timchars:[n.from(n.from([13],"utf8").toString(),t.encoding),n.from(n.from([10],"utf8").toString(),t.encoding),n.from(n.from([12],"utf8").toString(),t.encoding),n.from(n.from([32],"utf8").toString(),t.encoding),n.from(n.from([9],"utf8").toString(),t.encoding)]},__needMoreData:function(e,t,r){if(r)return!1;let{encoding:i,escape:o,quote:a}=this.options,{quoting:s,needMoreDataSize:l,recordDelimiterMaxLength:u}=this.state;return t-e-1<Math.max(l,0===u?n.from("\r\n",i).length:u,s?(null===o?0:o.length)+a.length:0,s?a.length+u:0)},parse:function(e,t,r,i){let o,s;let{bom:l,comment_no_infix:c,encoding:d,from_line:p,ltrim:h,max_record_size:y,raw:m,relax_quotes:g,rtrim:b,skip_empty_lines:v,to:w,to_line:_}=this.options,{comment:x,escape:S,quote:E,record_delimiter:O}=this.options,{bomSkipped:j,previousBuf:A,rawBuffer:k,escapeIsQuote:R}=this.state;if(void 0===A){if(void 0===e){i();return}o=e}else o=void 0!==A&&void 0===e?A:n.concat([A,e]);if(!1===j){if(!1===l)this.state.bomSkipped=!0;else if(o.length<3){if(!1===t){this.state.previousBuf=o;return}}else{for(let e in f)if(0===f[e].compare(o,0,f[e].length)){let t=f[e].length;this.state.bufBytesStart+=t,o=o.slice(t),this.options=u({...this.original_options,encoding:e}),{comment:x,escape:S,quote:E}=this.options;break}this.state.bomSkipped=!0}}let T=o.length;for(s=0;s<T&&!this.__needMoreData(s,T,t);s++){if(!0===this.state.wasRowDelimiter&&(this.info.lines++,this.state.wasRowDelimiter=!1),-1!==_&&this.info.lines>_){this.state.stop=!0,i();return}!1===this.state.quoting&&0===O.length&&this.__autoDiscoverRecordDelimiter(o,s)&&(O=this.options.record_delimiter);let e=o[s];if(!0===m&&k.append(e),(13===e||10===e)&&!1===this.state.wasRowDelimiter&&(this.state.wasRowDelimiter=!0),!0===this.state.escaping)this.state.escaping=!1;else{if(null!==S&&!0===this.state.quoting&&this.__isEscape(o,s,e)&&s+S.length<T){if(R){if(this.__isQuote(o,s+S.length)){this.state.escaping=!0,s+=S.length-1;continue}}else{this.state.escaping=!0,s+=S.length-1;continue}}if(!1===this.state.commenting&&this.__isQuote(o,s)){if(!0===this.state.quoting){let t=o[s+E.length],r=b&&this.__isCharTrimable(o,s+E.length),n=null!==x&&this.__compareBytes(x,o,s+E.length,t),i=this.__isDelimiter(o,s+E.length,t),l=0===O.length?this.__autoDiscoverRecordDelimiter(o,s+E.length):this.__isRecordDelimiter(t,o,s+E.length);if(null!==S&&this.__isEscape(o,s,e)&&this.__isQuote(o,s+S.length))s+=S.length-1;else if(!t||i||l||n||r){this.state.quoting=!1,this.state.wasQuoting=!0,s+=E.length-1;continue}else if(!1===g){let e=this.__error(new a("CSV_INVALID_CLOSING_QUOTE",["Invalid Closing Quote:",`got "${String.fromCharCode(t)}"`,`at line ${this.info.lines}`,"instead of delimiter, record delimiter, trimable character","(if activated) or comment"],this.options,this.__infoField()));if(void 0!==e)return e}else this.state.quoting=!1,this.state.wasQuoting=!0,this.state.field.prepend(E),s+=E.length-1}else if(0!==this.state.field.length){if(!1===g){let e=this.__infoField(),t=Object.keys(f).map(e=>!!f[e].equals(this.state.field.toString())&&e).filter(Boolean)[0],r=this.__error(new a("INVALID_OPENING_QUOTE",["Invalid Opening Quote:",`a quote is found on field ${JSON.stringify(e.column)} at line ${e.lines}, value is ${JSON.stringify(this.state.field.toString(d))}`,t?`(${t} bom)`:void 0],this.options,e,{field:this.state.field}));if(void 0!==r)return r}}else{this.state.quoting=!0,s+=E.length-1;continue}}if(!1===this.state.quoting){let t=this.__isRecordDelimiter(e,o,s);if(0!==t){if(this.state.commenting&&!1===this.state.wasQuoting&&0===this.state.record.length&&0===this.state.field.length)this.info.comment_lines++;else{if(!1===this.state.enabled&&this.info.lines+(!0===this.state.wasRowDelimiter?1:0)>=p){this.state.enabled=!0,this.__resetField(),this.__resetRecord(),s+=t-1;continue}if(!0===v&&!1===this.state.wasQuoting&&0===this.state.record.length&&0===this.state.field.length){this.info.empty_lines++,s+=t-1;continue}this.info.bytes=this.state.bufBytesStart+s;let e=this.__onField();if(void 0!==e)return e;this.info.bytes=this.state.bufBytesStart+s+t;let n=this.__onRecord(r);if(void 0!==n)return n;if(-1!==w&&this.info.records>=w){this.state.stop=!0,i();return}}this.state.commenting=!1,s+=t-1;continue}if(this.state.commenting)continue;if(null!==x&&(!1===c||0===this.state.record.length&&0===this.state.field.length)&&0!==this.__compareBytes(x,o,s,e)){this.state.commenting=!0;continue}let n=this.__isDelimiter(o,s,e);if(0!==n){this.info.bytes=this.state.bufBytesStart+s;let e=this.__onField();if(void 0!==e)return e;s+=n-1;continue}}}if(!1===this.state.commenting&&0!==y&&this.state.record_length+this.state.field.length>y)return this.__error(new a("CSV_MAX_RECORD_SIZE",["Max Record Size:","record exceed the maximum number of tolerated bytes",`of ${y}`,`at line ${this.info.lines}`],this.options,this.__infoField()));let t=!1===h||!0===this.state.quoting||0!==this.state.field.length||!this.__isCharTrimable(o,s),n=!1===b||!1===this.state.wasQuoting;if(!0===t&&!0===n)this.state.field.append(e);else{if(!0===b&&!this.__isCharTrimable(o,s))return this.__error(new a("CSV_NON_TRIMABLE_CHAR_AFTER_CLOSING_QUOTE",["Invalid Closing Quote:","found non trimable byte after quote",`at line ${this.info.lines}`],this.options,this.__infoField()));!1===t&&(s+=this.__isCharTrimable(o,s)-1);continue}}if(!0===t){if(!0===this.state.quoting){let e=this.__error(new a("CSV_QUOTE_NOT_CLOSED",["Quote Not Closed:",`the parsing is finished with an opening quote at line ${this.info.lines}`],this.options,this.__infoField()));if(void 0!==e)return e}else if(!0===this.state.wasQuoting||0!==this.state.record.length||0!==this.state.field.length){this.info.bytes=this.state.bufBytesStart+s;let e=this.__onField();if(void 0!==e)return e;let t=this.__onRecord(r);if(void 0!==t)return t}else!0===this.state.wasRowDelimiter?this.info.empty_lines++:!0===this.state.commenting&&this.info.comment_lines++}else this.state.bufBytesStart+=s,this.state.previousBuf=o.slice(s);!0===this.state.wasRowDelimiter&&(this.info.lines++,this.state.wasRowDelimiter=!1)},__onRecord:function(e){let{columns:t,group_columns_by_name:r,encoding:n,info:i,from:o,relax_column_count:s,relax_column_count_less:l,relax_column_count_more:u,raw:f,skip_records_with_empty_values:d}=this.options,{enabled:p,record:h}=this.state;if(!1===p)return this.__resetRecord();let y=h.length;if(!0===t){if(!0===d&&c(h)){this.__resetRecord();return}return this.__firstLineToColumns(h)}if(!1===t&&0===this.info.records&&(this.state.expectedRecordLength=y),y!==this.state.expectedRecordLength){let e=!1===t?new a("CSV_RECORD_INCONSISTENT_FIELDS_LENGTH",["Invalid Record Length:",`expect ${this.state.expectedRecordLength},`,`got ${y} on line ${this.info.lines}`],this.options,this.__infoField(),{record:h}):new a("CSV_RECORD_INCONSISTENT_COLUMNS",["Invalid Record Length:",`columns length is ${t.length},`,`got ${y} on line ${this.info.lines}`],this.options,this.__infoField(),{record:h});if(!0===s||!0===l&&y<this.state.expectedRecordLength||!0===u&&y>this.state.expectedRecordLength)this.info.invalid_field_length++,this.state.error=e;else{let t=this.__error(e);if(t)return t}}if(!0===d&&c(h)){this.__resetRecord();return}if(!0===this.state.recordHasError){this.__resetRecord(),this.state.recordHasError=!1;return}if(this.info.records++,1===o||this.info.records>=o){let{objname:o}=this.options;if(!1!==t){let a={};for(let e=0,n=h.length;e<n;e++)void 0===t[e]||t[e].disabled||(!0===r&&void 0!==a[t[e].name]?Array.isArray(a[t[e].name])?a[t[e].name]=a[t[e].name].concat(h[e]):a[t[e].name]=[a[t[e].name],h[e]]:a[t[e].name]=h[e]);if(!0===f||!0===i){let t=Object.assign({record:a},!0===f?{raw:this.state.rawBuffer.toString(n)}:{},!0===i?{info:this.__infoRecord()}:{}),r=this.__push(void 0===o?t:[a[o],t],e);if(r)return r}else{let t=this.__push(void 0===o?a:[a[o],a],e);if(t)return t}}else if(!0===f||!0===i){let t=Object.assign({record:h},!0===f?{raw:this.state.rawBuffer.toString(n)}:{},!0===i?{info:this.__infoRecord()}:{}),r=this.__push(void 0===o?t:[h[o],t],e);if(r)return r}else{let t=this.__push(void 0===o?h:[h[o],h],e);if(t)return t}}this.__resetRecord()},__firstLineToColumns:function(e){let{firstLineToHeaders:t}=this.state;try{let r=void 0===t?e:t.call(null,e);if(!Array.isArray(r))return this.__error(new a("CSV_INVALID_COLUMN_MAPPING",["Invalid Column Mapping:","expect an array from column function,",`got ${JSON.stringify(r)}`],this.options,this.__infoField(),{headers:r}));let n=s(r);this.state.expectedRecordLength=n.length,this.options.columns=n,this.__resetRecord();return}catch(e){return e}},__resetRecord:function(){!0===this.options.raw&&this.state.rawBuffer.reset(),this.state.error=void 0,this.state.record=[],this.state.record_length=0},__onField:function(){let{cast:e,encoding:t,rtrim:r,max_record_size:n}=this.options,{enabled:i,wasQuoting:o}=this.state;if(!1===i)return this.__resetField();let a=this.state.field.toString(t);if(!0===r&&!1===o&&(a=a.trimRight()),!0===e){let[e,t]=this.__cast(a);if(void 0!==e)return e;a=t}this.state.record.push(a),0!==n&&"string"==typeof a&&(this.state.record_length+=a.length),this.__resetField()},__resetField:function(){this.state.field.reset(),this.state.wasQuoting=!1},__push:function(e,t){let{on_record:r}=this.options;if(void 0!==r){let t=this.__infoRecord();try{e=r.call(null,e,t)}catch(e){return e}if(null==e)return}t(e)},__cast:function(e){let{columns:t,relax_column_count:r}=this.options;if(!0===Array.isArray(t)&&r&&this.options.columns.length<=this.state.record.length)return[void 0,void 0];if(null!==this.state.castField)try{let t=this.__infoField();return[void 0,this.state.castField.call(null,e,t)]}catch(e){return[e]}if(this.__isFloat(e))return[void 0,parseFloat(e)];if(!1!==this.options.cast_date){let t=this.__infoField();return[void 0,this.options.cast_date.call(null,e,t)]}return[void 0,e]},__isCharTrimable:function(e,t){return((e,t)=>{let{timchars:r}=this.state;e:for(let n=0;n<r.length;n++){let i=r[n];for(let r=0;r<i.length;r++)if(i[r]!==e[t+r])continue e;return i.length}return 0})(e,t)},__isFloat:function(e){return e-parseFloat(e)+1>=0},__compareBytes:function(e,t,r,n){if(e[0]!==n)return 0;let i=e.length;for(let n=1;n<i;n++)if(e[n]!==t[r+n])return 0;return i},__isDelimiter:function(e,t,r){let{delimiter:n,ignore_last_delimiters:i}=this.options;if(!0===i&&this.state.record.length===this.options.columns.length-1||!1!==i&&"number"==typeof i&&this.state.record.length===i-1)return 0;e:for(let i=0;i<n.length;i++){let o=n[i];if(o[0]===r){for(let r=1;r<o.length;r++)if(o[r]!==e[t+r])continue e;return o.length}}return 0},__isRecordDelimiter:function(e,t,r){let{record_delimiter:n}=this.options,i=n.length;e:for(let o=0;o<i;o++){let i=n[o],a=i.length;if(i[0]===e){for(let e=1;e<a;e++)if(i[e]!==t[r+e])continue e;return i.length}}return 0},__isEscape:function(e,t,r){let{escape:n}=this.options;if(null===n)return!1;let i=n.length;if(n[0]===r){for(let r=0;r<i;r++)if(n[r]!==e[t+r])return!1;return!0}return!1},__isQuote:function(e,t){let{quote:r}=this.options;if(null===r)return!1;let n=r.length;for(let i=0;i<n;i++)if(r[i]!==e[t+i])return!1;return!0},__autoDiscoverRecordDelimiter:function(e,t){let{encoding:r}=this.options,i=[n.from("\r\n",r),n.from("\n",r),n.from("\r",r)];t:for(let r=0;r<i.length;r++){let n=i[r].length;for(let o=0;o<n;o++)if(i[r][o]!==e[t+o])continue t;return this.options.record_delimiter.push(i[r]),this.state.recordDelimiterMaxLength=i[r].length,i[r].length}return 0},__error:function(e){let{encoding:t,raw:r,skip_records_with_error:n}=this.options,i="string"==typeof e?Error(e):e;if(!n)return i;this.state.recordHasError=!0,void 0!==this.options.on_skip&&this.options.on_skip(i,r?this.state.rawBuffer.toString(t):void 0)},__infoDataSet:function(){return{...this.info,columns:this.options.columns}},__infoRecord:function(){let{columns:e,raw:t,encoding:r}=this.options;return{...this.__infoDataSet(),error:this.state.error,header:!0===e,index:this.state.record.length,raw:t?this.state.rawBuffer.toString(r):void 0}},__infoField:function(){let{columns:e}=this.options,t=Array.isArray(e);return{...this.__infoRecord(),column:!0===t?e.length>this.state.record.length?e[this.state.record.length].name:null:this.state.record.length,quoting:this.state.wasQuoting}}}};class p extends i.Transform{constructor(e={}){super({readableObjectMode:!0,...e,encoding:null}),this.api=d({on_skip:(e,t)=>{this.emit("skip",e,t)},...e}),this.state=this.api.state,this.options=this.api.options,this.info=this.api.info}_transform(e,t,r){if(!0===this.state.stop)return;let n=this.api.parse(e,!1,e=>{this.push(e)},()=>{this.push(null),this.end(),this.on("end",this.destroy)});void 0!==n&&(this.state.stop=!0),r(n)}_flush(e){!0!==this.state.stop&&e(this.api.parse(void 0,!0,e=>{this.push(e)},()=>{this.push(null),this.on("end",this.destroy)}))}}t.CsvError=a,t.Parser=p,t.parse=function(){let e,t,r;for(let i in arguments){let s=arguments[i],l=typeof s;if(void 0===e&&("string"==typeof s||n.isBuffer(s)))e=s;else if(void 0===t&&o(s))t=s;else if(void 0===r&&"function"===l)r=s;else throw new a("CSV_INVALID_ARGUMENT",["Invalid argument:",`got ${JSON.stringify(s)} at index ${i}`],t||{})}let i=new p(t);if(r){let e=void 0===t||void 0===t.objname?[]:{};i.on("readable",function(){let r;for(;null!==(r=this.read());)void 0===t||void 0===t.objname?e.push(r):e[r[0]]=r[1]}),i.on("error",function(e){r(e,void 0,i.api.__infoDataSet())}),i.on("end",function(){r(void 0,e,i.api.__infoDataSet())})}if(void 0!==e){let t=function(){i.write(e),i.end()};"function"==typeof setImmediate?setImmediate(t):setTimeout(t,0)}return i}},78668:(e,t,r)=>{"use strict";r.d(t,{RA:()=>M,ik:()=>K,gg:()=>k,Yw:()=>W,U$:()=>T,S:()=>N,x3:()=>R,M$:()=>I,LK:()=>L,y3:()=>Y});let n=(e=21)=>{let t="",r=crypto.getRandomValues(new Uint8Array(e));for(;e--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&r[e]];return t};var i=r(6062),o=r(57082),a=r(2354),s={SOLANA_MAINNET:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",SOLANA_DEVNET:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",SOLANA_TESTNET:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3",ETHEREUM_MAINNET:"eip155:1"},l={[s.SOLANA_MAINNET]:"Solana Mainnet",[s.SOLANA_DEVNET]:"Solana Devnet",[s.SOLANA_TESTNET]:"Solana Testnet",[s.ETHEREUM_MAINNET]:"Ethereum Mainnet"};function u(e){let t=l[e];if(!t){let[t,r]=e.split(":");if(!t||!r)return e.length>8?e.slice(0,8)+"...":e;{let e=r.length>3?r.slice(0,3)+"...":r;return`${t}:${e}`}}return t}var c=/^(solana-action:|solana:)/;function f(e){try{let t=new URL(e).searchParams.get("action");if(!t)return{isInterstitial:!1};let r=decodeURIComponent(t);if(!c.test(r))return{isInterstitial:!1};let n=r.replace(c,""),i=new URL(n);return{isInterstitial:!0,decodedActionUrl:i.toString()}}catch(t){return console.error(`[@dialectlabs/blinks] Failed to check if URL is interstitial: ${e}`,t),{isInterstitial:!1}}}var d="https://proxy.dial.to";function p(e){let t=new URL(e);if(h(t))return t;let r=new URL(d);return r.searchParams.set("url",e),r}function h(e){return"localhost"===e.hostname||"127.0.0.1"===e.hostname||!d}var y=(e,t)=>{switch(t){case"only-trusted":return"trusted"===e;case"non-malicious":return"malicious"!==e;case"all":return!0}},m=(e,t)=>!t.startsWith("http")||new URL(t).origin===e,g=class{config;constructor(e){this.config=e}mapUrl(e){let t="string"==typeof e?new URL(e):e,r=t.search;for(let e of this.config.rules){if(this.isExactMatch(e.pathPattern,t))return`${e.apiPath}${r}`;let n=this.matchPattern(e.pathPattern,t);if(n)return this.constructMappedUrl(e.apiPath,n,r,t.origin)}return null}isExactMatch(e,t){return e===`${t.origin}${t.pathname}`}matchPattern(e,t){let r=RegExp(`^${e.replace(/\*\*/g,"(.*)").replace(/\/(\*)/g,"/([^/]+)")}$`);return(e.startsWith("http")?t.toString():t.pathname).match(r)}constructMappedUrl(e,t,r,n){let i=e;if(t.slice(1).forEach(e=>{i=i.replace(/\*+/,e)}),e.startsWith("http")){let e=new URL(i);return`${e.origin}${e.pathname}${r}`}return`${n}${i}${r}`}};async function b(e){let t=new URL(e),r=e.toString();if(c.test(r))return r.replace(c,"");let n=f(t);if(n.isInterstitial)return n.decodedActionUrl;let i=t.origin+"/actions.json";return new g(await fetch(p(i)).then(e=>e.json())).mapUrl(t)}var v=({"@solana/actions-spec":"~2.2.0","@types/react":"^18.3.3","@types/react-dom":"^18.3.0","@typescript-eslint/eslint-plugin":"^7.16.1","@typescript-eslint/parser":"^7.16.1",autoprefixer:"^10.4.19",eslint:"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-plugin-react":"^7.34.4","eslint-plugin-react-hooks":"^4.6.2",postcss:"^8.4.39","postcss-prefix-selector":"^1.16.1",prettier:"^3.3.3","prettier-plugin-organize-imports":"^4.0.0","prettier-plugin-tailwindcss":"^0.6.5",tailwindcss:"^3.4.3",tsup:"^8.2.0",typescript:"^5.5.3"})["@solana/actions-spec"].replace(/[^\d.]/g,""),w=[s.SOLANA_MAINNET,s.SOLANA_DEVNET],_=[s.SOLANA_MAINNET],x=async e=>{let{version:t,blockchainIds:r}=e.metadata;if(!t||!r||0===r.length)return{isSupported:!1,message:"Action compatibility metadata is not set. Please contact the action provider."};let n=e.adapterUnsafe?e.adapterUnsafe.metadata.supportedBlockchainIds:r,i=function({supportedActionVersion:e,actionVersion:t}){return 0>=function(e,t){let[r,n]=e.split(".").map(Number),[i,o]=t.split(".").map(Number);return r!==i?r-i:n!==o?n-o:0}(t,e)}({actionVersion:t,supportedActionVersion:v}),o=function({supportedBlockchainIds:e,actionBlockchainIds:t}){if(0===t.length||0===e.length)return!1;let r=e.map(e=>e.trim());return t.map(e=>e.trim()).every(e=>r.includes(e))}({actionBlockchainIds:r,supportedBlockchainIds:n}),a=r.filter(e=>!n.includes(e)).map(u);if(!i&&!o){let e=1===a.length?`blockchain ${a[0]}`:`blockchains ${a.join(", ")}`;return{isSupported:!1,message:`Action version ${t} and ${e} are not supported by your Blink client.`}}return i?o?{isSupported:!0}:{isSupported:!1,message:1===a.length?`Action blockchain ${a[0]} is not supported by your Blink client.`:`Action blockchains ${a.join(", ")} are not supported by your Blink client.`}:{isSupported:!1,message:`Action version ${t} is not supported by your Blink client.`}},S=["checkbox"],E=class e{constructor(e,t,r,n,i,o={isChained:!1},a,s){if(this._url=e,this._data=t,this._metadata=r,this._supportStrategy=n,this._adapter=i,this._chainMetadata=o,this._id=a,this._experimental=s,"completed"===t.type||!t.links?.actions){this._actions=[new k(this,t.label,e)];return}let l=new URL(e);this._actions=t.links.actions.map(e=>{let t=e.href.startsWith("http")?e.href:l.origin+e.href;return j(this,e.label,t,e.parameters)})}_actions;get liveData_experimental(){let e=this._experimental?.liveData;return e?{enabled:e.enabled,delayMs:e.delayMs?Math.max(e.delayMs,1e3):1e3}:null}get id(){return this._id}get isChained(){return this._chainMetadata.isChained}get isInline(){return!!this._chainMetadata.isChained&&this._chainMetadata.isInline}get type(){return this._data.type}get url(){return this._url}get icon(){return this._data.icon.startsWith("data:")?this._data.icon:(function(e){let t=new URL(e);if(h(t))return t;let r=new URL(`${d}/image`);return r.searchParams.set("url",e),r})(this._data.icon).toString()}get title(){return this._data.title}get description(){return this._data.description}get disabled(){return this._data.disabled??!1}get actions(){return this._actions}get error(){return this._data.error?.message??null}get metadata(){return{blockchainIds:this._metadata.blockchainIds??_,version:this._metadata.version??"2.2"}}get adapterUnsafe(){return this._adapter}get adapter(){if(!this._adapter)throw Error("No adapter provided");return this._adapter}setAdapter(e){this._adapter=e}async isSupported(){try{return await this._supportStrategy(this)}catch(e){return console.error(`[@dialectlabs/blinks] Failed to check supportability for action ${this.url}`),{isSupported:!1,message:"Failed to check supportability, please contact your Blink client provider."}}}async chain(t,r){let i=n();if("inline"===t.type)return new e(this.url,t.action,this.metadata,this._supportStrategy,this.adapter,{isChained:!0,isInline:!0},i);let o=new URL(this.url);if(!m(o.origin,t.href))return console.error(`Chained action is not the same origin as the current action. Original: ${this.url}, chained: ${t.href}`),null;let a=t.href.startsWith("http")?t.href:o.origin+t.href,s=p(a),l=await fetch(s,{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Accept:"application/json"}});return l.ok?new e(a,await l.json(),O(l),this._supportStrategy,this.adapter,{isChained:!0,isInline:!1},i):(console.error(`Failed to fetch chained action ${s}, action url: ${t.href}`),null)}static hydrate(t,r,i,o,a){return new e(t,r,i,o,a,{isChained:!1},n())}static async _fetch(t,r,n=x,i,o){let a=p(t),s=await fetch(a,{headers:{Accept:"application/json"}});if(!s.ok)throw Error(`Failed to fetch action ${a}, action url: ${t}`);let l=await s.json(),u=O(s);return new e(t,{...l,type:"action"},u,n,r,i,o,l.dialectExperimental)}static async fetch(t,r,i=x){let o=n();return e._fetch(t,r,i,{isChained:!1},o)}refresh(){return e._fetch(this.url,this.adapter,this._supportStrategy,this._chainMetadata,this._id)}},O=e=>({blockchainIds:e.headers.get("x-blockchain-ids")?.split(",").map(e=>e.trim()),version:e.headers.get("x-action-version")?.trim()}),j=(e,t,r,n)=>{if(!n?.length)return new k(e,t,r);if(n.length>1)return new T(e,t,r,n);let[i]=n;return i.type&&S.includes(i.type)?new N(e,t,r,n):new R(e,t,r,n)},A=class{constructor(e,t,r,n){this._parent=e,this._label=t,this._href=r,this._parameters=n}get parent(){return this._parent}get label(){return this._label}get parameters(){return this._parameters??[]}async post(e){let t=p(this.href),r=await fetch(t,{method:"POST",body:JSON.stringify(this.buildBody(e)),headers:{"Content-Type":"application/json"}});if(!r.ok){let e=await r.json();throw console.error(`[@dialectlabs/blinks] Failed to execute action ${t}, href ${this.href}, reason: ${e.message}`),{message:e.message}}return await r.json()}},k=class extends A{constructor(e,t,r,n,i){super(e,t,r,n),this._parent=e,this._label=t,this._href=r,this._parameters=n,this._parentComponent=i}get parentComponent(){return this._parentComponent??null}buildBody(e){return{account:e}}get href(){return this._href}},R=class extends A{constructor(e,t,r,n,i){super(e,t,r,n),this._parent=e,this._label=t,this._href=r,this._parameters=n,this._parentComponent=i}parameterValue=null;get parentComponent(){return this._parentComponent??null}buildBody(e){return this._href.indexOf(`{${this.parameter.name}}`)>-1||null===this.parameterValue?{account:e}:{account:e,data:{[this.parameter.name]:this.parameterValue}}}get parameter(){let[e]=this.parameters;return e}setValue(e){this.parameterValue=e}get href(){return this._href.replace(`{${this.parameter.name}}`,encodeURIComponent(this.parameterValue?.toString().trim()??""))}toButtonActionComponent(){return new k(this._parent,this._label,this._href,void 0,this)}},T=class extends A{constructor(e,t,r,n,i){super(e,t,r,n),this._parent=e,this._label=t,this._href=r,this._parameters=n,this._parentComponent=i}parameterValues={};get parentComponent(){return this._parentComponent??null}buildBody(e){let t=Object.keys(this.parameterValues),r=[];return(t.forEach(e=>{-1===this._href.indexOf(`{${e}}`)&&r.push(e)}),r.length>0)?{account:e,data:Object.fromEntries(t.filter(e=>r.includes(e)).map(e=>[e,this.parameterValues[e]]))}:{account:e}}get href(){return this.parameters.reduce((e,t)=>{let r=this.parameterValues[t.name];return r?e.replace(`{${t.name}}`,encodeURIComponent("string"==typeof r?r:r?.join(","))):e},this._href).replaceAll(/={[^}]+}&/g,"=&").replaceAll(/={[^}]+}/g,"=")}setValue(e,t){this.parameterValues[t]=e}toButtonActionComponent(){return new k(this._parent,this._label,this.href,void 0,this)}toInputActionComponent(e){let t=this.parameters.find(t=>t.name===e);if(!t)throw Error(`Input Parameter ${e} not found`);return new R(this._parent,this._label,this._href,[t],this)}},N=class extends A{constructor(e,t,r,n,i){super(e,t,r,n),this._parent=e,this._label=t,this._href=r,this._parameters=n,this._parentComponent=i}parameterValue=[];get parentComponent(){return this._parentComponent??null}buildBody(e){return this._href.indexOf(`{${this.parameter.name}}`)>-1?{account:e}:{account:e,data:{[this.parameter.name]:this.isMultiOptions?this.parameterValue:this.parameterValue[0]}}}get isMultiOptions(){return"checkbox"===this.parameter.type}get parameter(){let[e]=this.parameters;return e}setValue(e){this.parameterValue="string"==typeof e?[e]:e}get href(){return this._href.replace(`{${this.parameter.name}}`,encodeURIComponent(this.parameterValue.join(",")))}toButtonActionComponent(){return new k(this._parent,this._label,this._href,void 0,this)}},L=e=>"select"!==e.type&&"radio"!==e.type&&"checkbox"!==e.type,I=e=>"select"===e.type||"radio"===e.type||"checkbox"===e.type,M=class e{constructor(e,t){if(this.adapter=t,!e)throw Error("rpcUrl or connection is required");this.connection="string"==typeof e?new i.Connection(e,"confirmed"):e}static CONFIRM_TIMEOUT_MS=72e3;static DEFAULT_METADATA={supportedBlockchainIds:w};connection;get metadata(){return this.adapter.metadata??e.DEFAULT_METADATA}signTransaction(e,t){return this.adapter.signTransaction(e,t)}confirmTransaction(t){return new Promise((r,n)=>{let i=Date.now(),o=async()=>{if(Date.now()-i>=e.CONFIRM_TIMEOUT_MS){n(Error("Unable to confirm transaction: timeout reached"));return}try{let e=await this.connection.getSignatureStatus(t);if(e.value?.err){n(Error("Transaction execution failed, check wallet for details"));return}if(e.value&&null!==e.value.confirmations){r();return}}catch(e){console.error("[@dialectlabs/blinks] Error confirming transaction",e)}setTimeout(o,3e3)};o()})}async connect(e){try{return await this.adapter.connect(e)}catch{return null}}},C=class e{static instance=null;actionsByHost;websitesByHost;interstitialsByHost;initPromise=null;constructor(e){this.actionsByHost=e?Object.fromEntries(e.actions.map(e=>[e.host,e])):{},this.websitesByHost=e?Object.fromEntries(e.websites.map(e=>[e.host,e])):{},this.interstitialsByHost=e?Object.fromEntries(e.interstitials.map(e=>[e.host,e])):{}}static getInstance(t){return(null===this.instance||t)&&(this.instance=new e(t)),this.instance}async init(){null===this.initPromise&&(await this.refresh(),setInterval(()=>this.refresh(),6e5))}async refresh(){this.initPromise=U();let e=await this.initPromise;this.actionsByHost=Object.fromEntries(e.actions.map(e=>[e.host,e])),this.websitesByHost=Object.fromEntries(e.websites.map(e=>[e.host,e])),this.interstitialsByHost=Object.fromEntries(e.interstitials.map(e=>[e.host,e]))}lookup(e,t="action"){return"action"===t?this.lookupAction(e):"website"===t?this.lookupWebsite(e):"interstitial"===t?this.lookupInterstitial(e):null}lookupAction(e){try{let t=new URL(e).host;return this.actionsByHost[t]??null}catch(t){return console.error(`[@dialectlabs/blinks] Failed to lookup action for URL: ${e}`,t),null}}lookupWebsite(e){try{let t=new URL(e).host;return this.websitesByHost[t]??null}catch(t){return console.error(`[@dialectlabs/blinks] Failed to lookup website for URL: ${e}`,t),null}}lookupInterstitial(e){try{let t=new URL(e).host;return this.interstitialsByHost[t]??null}catch(t){return console.error(`[@dialectlabs/blinks] Failed to lookup interstitial for URL: ${e}`,t),null}}},P=(...e)=>e.includes("malicious")?"malicious":e.includes("unknown")?"unknown":"trusted",D=e=>C.getInstance().lookup("string"==typeof e?e:e.url,"action")?.state??"unknown",B=e=>C.getInstance().lookup(e,"website")?.state??"unknown",F=e=>C.getInstance().lookup(e,"interstitial")?.state??"unknown";async function U(){try{let e=await fetch("https://actions-registry.dial.to/all");if(!e.ok)return console.error("[@dialectlabs/blinks] Failed to fetch actions registry config",await e.json()),{actions:[],interstitials:[],websites:[]};return await e.json()}catch(e){return console.error("[@dialectlabs/blinks] Failed to fetch actions registry config",e),{actions:[],interstitials:[],websites:[]}}}var V=e=>!!e.error,$=e=>!!e.error,W=(e=>(e.BLOCKED="blocked",e.UNKNOWN="unknown",e))(W||{}),q=(e=>(e.CHECK_SUPPORTABILITY="CHECK_SUPPORTABILITY",e.INITIATE="INITIATE",e.FINISH="FINISH",e.FAIL="FAIL",e.RESET="RESET",e.SOFT_RESET="SOFT_RESET",e.UNBLOCK="UNBLOCK",e.BLOCK="BLOCK",e))(q||{}),H=(e,t)=>{switch(t.type){case"CHECK_SUPPORTABILITY":return{status:"checking-supportability",checkingSupportability:!0};case"INITIATE":return{status:"executing",executingAction:t.executingAction};case"FINISH":return{...e,status:"success",successMessage:t.successMessage,errorMessage:null};case"FAIL":return{...e,status:"error",errorMessage:t.errorMessage,successMessage:null};case"RESET":case"UNBLOCK":return{status:"idle"};case"SOFT_RESET":return{...e,executingAction:null,status:"idle",errorMessage:t.errorMessage,successMessage:null};case"BLOCK":return{status:"blocked"}}},G=(e,t)=>{let r=D(e),n=t?f(t):null;return n?n.isInterstitial?{action:r,origin:F(t),originType:"interstitials"}:{action:r,origin:B(t),originType:"websites"}:{action:r}},z=(e,t)=>!y(e.action,t.actions)||!e.origin||y(e.origin,t[e.originType]),J="only-trusted",K=({action:e,websiteUrl:t,websiteText:r,callbacks:n,securityLevel:i=J,Layout:s})=>{let[l,u]=(0,o.useState)(e),c=(0,o.useMemo)(()=>"string"==typeof i?{websites:i,interstitials:i,actions:i}:i,[i]),[f,d]=(0,o.useState)(G(l,t)),[p,h]=(0,o.useState)({isSupported:!0}),y=(0,o.useMemo)(()=>P(...[f.action,f.origin].filter(Boolean)),[f]),m=z(f,c),[g,b]=(0,o.useReducer)(H,{status:"checking-supportability"});(0,o.useEffect)(()=>{l===e||l.isChained||(u(e),d(G(e,t)),b({type:"CHECK_SUPPORTABILITY"}))},[e,t]),(0,o.useEffect)(()=>{n?.onActionMount?.(l,t??l.url,f.action)},[l,t]),(0,o.useEffect)(()=>{let e;let t=l.liveData_experimental;if(!t||!t.enabled||"idle"!==g.status||l.isChained)return;let r=async()=>{try{let e=await l.refresh();"idle"===g.status&&u(e)}catch(n){console.error(`[@dialectlabs/blinks] Failed to fetch live data for action ${l.url}`),e=setTimeout(r,t.delayMs)}};return e=setTimeout(r,t.delayMs),()=>{clearTimeout(e)}},[l,g.status]),(0,o.useEffect)(()=>{(async e=>{if(!e.isChained&&"checking-supportability"===g.status)try{let t=await e.isSupported();h(t)}finally{b({type:"malicious"!==y&&m?"RESET":"BLOCK"})}})(l)},[l,g.status,y,m]);let v=async(e,r)=>{if(r&&(e instanceof T&&Object.entries(r).forEach(([t,r])=>e.setValue(r,t)),e instanceof N&&e.setValue(r[e.parameter.name]),e instanceof R)){let t=r[e.parameter.name],n="string"==typeof t?t:t[0];e.setValue(n)}let n=G(l,t),i=z(n,c);if((n.action!==f.action||n.origin!==f.origin)&&!i){d(n),b({type:"BLOCK"});return}b({type:"INITIATE",executingAction:e});let o={action:e.parent,actionType:f.action,originalUrl:t??e.parent.url,triggeredLinkedAction:e};try{let t=await l.adapter.connect(o);if(!t){b({type:"RESET"});return}let r=await e.post(t).catch(e=>({error:e.message}));if(!r.transaction||$(r)){b({type:"SOFT_RESET",errorMessage:$(r)?r.error:"Transaction data missing"});return}let n=await l.adapter.signTransaction(r.transaction,o);if(!n||V(n))b({type:"RESET"});else{if(await l.adapter.confirmTransaction(n.signature,o),!r.links?.next){b({type:"FINISH",successMessage:r.message});return}let e=await l.chain(r.links.next,{signature:n.signature,account:t});if(!e){b({type:"FINISH",successMessage:r.message});return}u(e),b({type:"RESET"})}}catch(e){b({type:"SOFT_RESET",errorMessage:e.message??"Unknown error, please try again"})}},w=(0,o.useMemo)(()=>"malicious"===y?{type:"blocked",ignorable:m,hidden:"blocked"!==g.status&&"checking-supportability"!==g.status,onSkip:()=>b({type:"UNBLOCK"})}:"unknown"===y?{type:"unknown",ignorable:m}:null,[g.status,m,y]),_=(0,o.useMemo)(()=>"error"===g.status?{type:"error",text:g.errorMessage??""}:"success"===g.status?{type:"success",text:g.successMessage??""}:null,[g.status,g.errorMessage,g.successMessage]);return(0,a.jsx)(s,{securityState:y,websiteUrl:t,websiteText:r,action:l,caption:_,executionStatus:g.status,executingAction:g.executingAction,executeFn:v,disclaimer:w,supportability:p,id:l.id})};function Y({url:e,adapter:t,supportStrategy:r=x}){let{isRegistryLoaded:n}=function(){let[e,t]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{C.getInstance().init().then(()=>{t(!0)})},[e]),{isRegistryLoaded:e}}(),{actionApiUrl:i}=function(e){let[t,r]=(0,o.useState)(null);return(0,o.useEffect)(()=>{let t=!1;return b(new URL(e)).then(e=>{t||r(e)}).catch(e=>{console.error("[@dialectlabs/blinks-core] Failed to unfurl action URL",e),r(null)}),()=>{t=!0}},[e]),{actionApiUrl:t}}(e),[a,s]=(0,o.useState)(null),[l,u]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{if(u(!0),!n||!i)return;let e=!1;return E.fetch(i,void 0,r).then(t=>{e||s(t)}).catch(e=>{console.error("[@dialectlabs/blinks-core] Failed to fetch action",e),s(null)}).finally(()=>{e||u(!1)}),()=>{e=!0}},[i,n,r]),(0,o.useEffect)(()=>{a?.setAdapter(t)},[a,t]),{action:a,isLoading:l}}},5748:(e,t,r)=>{"use strict";r.d(t,{G:()=>u});var n=r(78668),i=r(23325),o=r(12089),a=r(6062),s=r(57082),l=r(38524).Buffer;function u(e){let t=(0,i.v)(),r=(0,o.o)(),u=(0,s.useMemo)(()=>"string"==typeof e?new a.Connection(e,"confirmed"):e,[e]);return{adapter:(0,s.useMemo)(()=>new n.RA(u,{connect:async()=>{try{await t.connect()}catch{return r.setVisible(!0),null}return t.publicKey?.toBase58()??null},signTransaction:async e=>{try{return{signature:await t.sendTransaction(a.VersionedTransaction.deserialize(l.from(e,"base64")),u)}}catch{return{error:"Signing failed."}}}}),[u,t,r])}}},85906:(e,t,r)=>{"use strict";r.d(t,{Z8:()=>ee,y3:()=>n.y3});var n=r(78668),i=r(57082),o=r(63087),a=r(2354),s={error:{container:"group bg-transparent-error",text:"text-text-error group-hover:text-text-error-hover transition-colors motion-reduce:transition-none",icon:"text-icon-error group-hover:text-icon-error-hover transition-colors motion-reduce:transition-none"},warning:{container:"group bg-transparent-warning",text:"text-text-warning group-hover:text-text-warning-hover transition-colors motion-reduce:transition-none",icon:"text-icon-warning group-hover:text-icon-warning-hover transition-colors motion-reduce:transition-none"},default:{container:"group bg-transparent-grey",text:"text-text-primary group-hover:text-text-primary-hover transition-colors motion-reduce:transition-none",icon:"text-icon-primary group-hover:text-icon-primary-hover transition-colors motion-reduce:transition-none"}},l=({variant:e="default",children:t,className:r,icon:n})=>{let{container:i,icon:l,text:u}=s[e];return(0,a.jsxs)("div",{className:(0,o.A)(i,"inline-flex items-center justify-center gap-1 rounded-full text-subtext font-semibold leading-none",r,{"aspect-square p-1":!t&&n,"px-1.5 py-1":t}),children:[t&&(0,a.jsx)("span",{className:u,children:t}),n&&(0,a.jsx)("div",{className:l,children:n})]})},u={error:"bg-transparent-error text-text-error border-stroke-error",warning:"bg-transparent-warning text-text-warning border-stroke-warning"},c=({variant:e="warning",children:t})=>(0,a.jsx)("div",{className:(0,o.A)(u[e],"rounded-lg border p-3 text-subtext"),children:t}),f=e=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:17,height:16,viewBox:"0 0 17 16",fill:"none",...e,children:(0,a.jsx)("path",{d:"M15.348 3.509a.984.984 0 010 1.437l-8.173 8.172a.984.984 0 01-1.437 0L1.652 9.032a.984.984 0 010-1.437.984.984 0 011.437 0l3.384 3.353 7.438-7.439a.984.984 0 011.437 0z",fill:"currentColor"})}),d=e=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",preserveAspectRatio:"xMidYMid meet",...e,children:[(0,a.jsx)("path",{fill:"currentColor",d:"M7.037 8.108a2.65 2.65 0 1 1 1.07-1.071 1.522 1.522 0 0 1 1.553.094 1.523 1.523 0 0 1 1.498-1.239h.398v-.49a.666.666 0 0 0-.55-.653l-.866-.151a4.488 4.488 0 0 0-.447-1.078l.505-.72a.666.666 0 0 0-.076-.84l-.519-.528a.666.666 0 0 0-.852-.074l-.72.505a4.482 4.482 0 0 0-1.078-.447L6.802.55A.666.666 0 0 0 6.149 0h-.735a.666.666 0 0 0-.653.55l-.152.866a4.48 4.48 0 0 0-1.078.447l-.726-.505a.666.666 0 0 0-.846.074l-.527.527a.666.666 0 0 0-.074.854l.505.72c-.195.338-.346.7-.447 1.078l-.866.151a.666.666 0 0 0-.55.654v.734a.666.666 0 0 0 .55.653l.866.152c.101.377.251.74.447 1.078l-.505.716a.666.666 0 0 0 .074.854l.527.52a.666.666 0 0 0 .854.075l.72-.505c.338.195.7.346 1.078.447l.151.866a.666.666 0 0 0 .654.55h.49v-.398A1.523 1.523 0 0 1 7.143 9.66a1.522 1.522 0 0 1-.107-1.552ZM16 11.158v.578a.524.524 0 0 1-.434.509l-.683.12a3.53 3.53 0 0 1-.352.86l.398.568a.524.524 0 0 1-.059.672l-.41.41a.524.524 0 0 1-.672.059l-.563-.403a3.537 3.537 0 0 1-.85.352l-.13.683a.524.524 0 0 1-.51.434h-.577a.524.524 0 0 1-.518-.434l-.12-.683a3.536 3.536 0 0 1-.848-.352l-.568.398a.525.525 0 0 1-.673-.059l-.41-.41a.524.524 0 0 1-.059-.672l.4-.563a3.535 3.535 0 0 1-.352-.85l-.683-.13a.524.524 0 0 1-.434-.518v-.57a.524.524 0 0 1 .434-.517l.683-.12a3.54 3.54 0 0 1 .352-.848l-.398-.567a.524.524 0 0 1 .059-.672l.41-.41a.524.524 0 0 1 .672-.059l.567.398c.266-.154.552-.272.849-.352l.119-.683a.524.524 0 0 1 .518-.434h.578a.524.524 0 0 1 .509.434l.12.683c.3.079.59.197.86.352l.566-.398a.524.524 0 0 1 .673.059l.41.41a.524.524 0 0 1 .058.672l-.401.567c.154.266.272.552.352.849l.683.119a.524.524 0 0 1 .434.518Zm-2.991.289a1.563 1.563 0 1 0-3.126 0 1.563 1.563 0 0 0 3.126 0Z"}),(0,a.jsx)("path",{fill:"currentColor",d:"M6.886 5.777a1.105 1.105 0 1 1-2.21 0 1.105 1.105 0 0 1 2.21 0Z"})]}),p=e=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",preserveAspectRatio:"xMidYMid meet",...e,children:(0,a.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"m8.38 1.087 5.483 2.334c.641.291 1.137.904 1.137 1.662-.03 2.916-1.225 8.195-6.241 10.616a1.794 1.794 0 0 1-1.546 0c-5.016-2.42-6.212-7.7-6.212-10.616-.029-.758.467-1.37 1.108-1.662l5.483-2.334a.932.932 0 0 1 .788 0Zm-1.313 10.29c0 .524.408.933.933.933a.94.94 0 0 0 .933-.934.96.96 0 0 0-.933-.933.94.94 0 0 0-.933.934ZM8 4.109a.9.9 0 0 0-.9.9v3.606a.9.9 0 0 0 1.8 0V5.01a.9.9 0 0 0-.9-.9Z",clipRule:"evenodd"})}),h=e=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",preserveAspectRatio:"xMidYMid meet",...e,children:(0,a.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.863 3.42 8.38 1.088a.932.932 0 0 0-.787 0L2.108 3.421c-.641.291-1.137.904-1.108 1.662 0 2.916 1.196 8.195 6.212 10.616.496.233 1.05.233 1.546 0 5.016-2.42 6.212-7.7 6.241-10.616 0-.758-.496-1.37-1.137-1.662Zm-6.33 7.35h-.582a.69.69 0 0 0-.7.7c0 .408.292.7.7.7h2.216c.379 0 .7-.292.7-.7 0-.38-.321-.7-.7-.7h-.234V8.204c0-.38-.32-.7-.7-.7H7.208a.69.69 0 0 0-.7.7c0 .408.292.7.7.7h.326v1.866Zm-.466-5.133c0 .525.408.933.933.933a.94.94 0 0 0 .933-.933A.96.96 0 0 0 8 4.704a.94.94 0 0 0-.933.933Z",clipRule:"evenodd"})}),y=e=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",preserveAspectRatio:"xMidYMid meet",...e,children:[(0,a.jsxs)("g",{fill:"currentColor",clipPath:"url(#a)",children:[(0,a.jsx)("path",{d:"M7.409 9.774 9.774 7.41a.836.836 0 1 0-1.183-1.183L6.226 8.592A.836.836 0 1 0 7.41 9.774Z"}),(0,a.jsx)("path",{d:"M10.76.503A4.709 4.709 0 0 0 7.41 1.889L5.83 3.467A.836.836 0 1 0 7.014 4.65L8.59 3.072a3.067 3.067 0 0 1 4.338 4.337L11.35 8.987a.835.835 0 1 0 1.182 1.182l1.578-1.577a4.738 4.738 0 0 0-3.35-8.09ZM5.24 15.497a4.706 4.706 0 0 0 3.351-1.386l1.578-1.577a.836.836 0 1 0-1.182-1.183l-1.578 1.578a3.067 3.067 0 1 1-4.337-4.337L4.65 7.014A.836.836 0 1 0 3.467 5.83L1.889 7.41a4.737 4.737 0 0 0 3.351 8.088Z"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h16v16H0z"})})})]}),m=[0,45,90,135,180,225,270,315],g=({width:e=16})=>{let t=(0,i.useMemo)(()=>m.map((e,t)=>(0,a.jsx)("circle",{cy:12,cx:12,r:4,transform:`rotate(${e}, 24, 24)`,fillOpacity:t<2?0:1},e)),[]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("style",{children:"@keyframes spin{to{transform:rotate(360deg)}}"}),(0,a.jsx)("svg",{viewBox:"0 0 48 48",width:e,fill:"currentColor","data-testid":"rotating-dots-svg","aria-label":"rotating-dots-loading",style:{animationDuration:"1s",animation:"spin 1s steps(8, end) infinite"},children:t})]})},b=({onClick:e,disabled:t,variant:r="default",children:n})=>(0,a.jsx)("button",{className:(0,o.A)("flex w-full items-center justify-center text-nowrap rounded-button px-4 py-3 text-text font-semibold transition-colors motion-reduce:transition-none",{"bg-button-disabled text-text-button-disabled":t&&"success"!==r,"bg-button text-text-button hover:bg-button-hover":!t&&"success"!==r,"bg-button-success text-text-button-success":"success"===r}),disabled:t,onClick:e,children:n}),v=({text:e,loading:t,disabled:r,variant:n,onClick:i})=>(0,a.jsx)(b,{onClick:()=>i(),disabled:r,variant:n,children:(0,a.jsx)("span",{className:"min-w-0 truncate",children:(0,a.jsx)(()=>t?(0,a.jsxs)("span",{className:"flex flex-row items-center justify-center gap-2 text-nowrap",children:[e," ",(0,a.jsx)(g,{})]}):"success"===n?(0,a.jsxs)("span",{className:"flex flex-row items-center justify-center gap-2 text-nowrap",children:[e,(0,a.jsx)(f,{})]}):e,{})})}),w=e=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",preserveAspectRatio:"xMidYMid meet",...e,children:(0,a.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.6 5.398a.85.85 0 0 1-.001 1.202l-4.784 4.773a.85.85 0 0 1-1.193.008L3.934 8.77a.85.85 0 0 1 1.184-1.22l2.088 2.027 4.192-4.182a.85.85 0 0 1 1.202.002Z",clipRule:"evenodd"})}),_=({label:e,value:t,onChange:r,name:n,disabled:s,inputValue:l})=>{let u=(0,i.useId)(),c=`${u}_label`;return(0,a.jsxs)("button",{className:(0,o.A)("flex h-full gap-2.5",{"cursor-pointer":!s,"cursor-not-allowed":s}),onClick:()=>!s&&r(!t),children:[(0,a.jsxs)("div",{className:"flex h-full items-center",children:[(0,a.jsx)("input",{type:"checkbox",name:n,className:"hidden",defaultValue:l}),(0,a.jsx)("span",{role:"checkbox",id:u,"aria-labelledby":c,className:(0,o.A)("mt-0.5 flex aspect-square h-[16px] items-center justify-center rounded-lg border transition-colors motion-reduce:transition-none",{"border-input-stroke bg-input-bg":!t&&!s,"border-input-stroke-selected bg-input-bg-selected":t&&!s,"border-input-stroke-disabled bg-input-bg":!t&&s,"border-input-stroke-disabled bg-input-bg-disabled":t&&s}),children:(0,a.jsx)(w,{className:(0,o.A)("h-full w-full text-input-bg",{block:t,hidden:!t})})})]}),(0,a.jsx)("label",{className:"cursor-[inherit] text-text text-text-input",id:c,children:e})]})},x=({min:e,max:t})=>e&&t?`Type between ${e} and ${t} characters`:e?`Type minimum ${e} characters`:t?`Type maximum ${t} characters`:null,S=({min:e,max:t})=>e&&t?`Enter a number between ${e} and ${t}`:e?`Enter a number greater than ${e}`:t?`Enter a number less than ${t}`:null,E=({min:e,max:t,includeTime:r})=>{let n=e?new Date(e):null,i=t?new Date(t):null,o=new Intl.DateTimeFormat("en",{year:"numeric",month:"numeric",day:"numeric",hour:r?"numeric":void 0,minute:r?"numeric":void 0});return n&&i?`Pick a date between ${o.format(n)} and ${o.format(i)}`:n?`Pick a date after ${o.format(n)}`:i?`Pick a date before ${o.format(i)}`:null},O=({min:e,max:t})=>e&&t?`Select between ${e} and ${t} options`:e?`Select minimum ${e} options`:t?`Select maximum ${t} options`:null,j=(e,{required:t,min:r,max:n})=>(!t||!!e.length)&&(!r||!(e.length<r))&&(!n||!(e.length>n)),A=e=>Object.entries(e).filter(([,e])=>e).map(([e])=>e),k=({placeholder:e,name:t,button:r,disabled:n,onChange:s,onValidityChange:l,min:u,max:c,description:f,options:d=[],required:p})=>{let h=!!r,y=f||O({min:u,max:c}),m=(0,i.useMemo)(()=>d.find(e=>e.selected),[d]),[g,b]=(0,i.useState)({value:Object.fromEntries(d.map(e=>[e.value,e.selected??!1])),valid:h?!!m:!(p&&!m)}),[w,x]=(0,i.useState)(!1);(0,i.useEffect)(()=>{l?.(g.valid)},[]);let S=(e,t)=>{b(r=>{let n={...r.value,[e]:t},i=A(n);s?.(i);let o=j(i,{required:h,min:u,max:c});return l?.(o),{value:n,valid:o}}),x(!0)},E=(0,i.useMemo)(()=>A(g.value),[g.value]);return(0,a.jsxs)("div",{className:(0,o.A)("py-1.5",{"bg-bg-secondary rounded-input px-1.5 pt-2":h}),children:[(0,a.jsxs)("div",{className:(0,o.A)(h&&"px-2"),children:[e&&(0,a.jsx)("div",{className:"mb-1",children:(0,a.jsxs)("label",{className:"block text-text font-semibold text-text-input",children:[e,p?"*":""]})}),(0,a.jsx)("div",{className:(0,o.A)("pt-2",{"flex flex-col gap-3":!h,"grid grid-cols-2 gap-x-4 gap-y-5":h}),children:d.map(e=>(0,a.jsx)("div",{className:"inline-flex",children:(0,a.jsx)(_,{label:e.label,value:g.value[e.value],inputValue:e.value,onChange:t=>S(e.value,t),name:t,disabled:n})},`${e.value}_${e.label}`))})]}),h&&(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(v,{...r,onClick:()=>r.onClick({[t]:E}),disabled:r.disabled||!E.length||!g.valid})}),y&&(0,a.jsx)("div",{className:(0,o.A)("text-caption",w&&!g.valid?"text-text-error":"text-text-secondary",h?"mb-2 mt-2.5 px-2":"mt-3"),children:y})]})},R=e=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",preserveAspectRatio:"xMidYMid meet",...e,children:[(0,a.jsx)("g",{clipPath:"url(#a)",children:(0,a.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.805 1.232a.732.732 0 1 0-1.464 0v.37c-.362.006-.685.019-.969.048-.526.055-1.004.174-1.428.468-.29.2-.54.451-.741.74-.294.425-.412.902-.467 1.429-.049.462-.053 1.026-.053 1.7V10.43c0 .99 0 1.808.087 2.454.091.68.29 1.279.77 1.759.48.48 1.08.679 1.759.77.646.087 1.463.087 2.454.087h4.494c.99 0 1.808 0 2.454-.087.68-.091 1.279-.29 1.759-.77.48-.48.679-1.08.77-1.759.087-.646.087-1.463.087-2.454V5.988c0-.675-.004-1.239-.053-1.701-.055-.527-.173-1.004-.467-1.428-.2-.29-.452-.54-.741-.741-.425-.294-.902-.413-1.428-.468-.284-.03-.607-.042-.97-.048v-.37a.732.732 0 0 0-1.463 0v.366h-4.39v-.366Zm8.049 4.756c-.001-.685-.006-1.17-.045-1.55-.043-.406-.12-.607-.215-.746-.1-.145-.226-.27-.371-.37-.14-.097-.34-.174-.747-.216a9.532 9.532 0 0 0-.818-.04v.36a.732.732 0 0 1-1.463 0v-.365h-4.39v.366a.732.732 0 1 1-1.464 0v-.361c-.324.005-.59.016-.817.04-.407.042-.608.119-.747.215-.145.1-.27.226-.37.37-.097.14-.173.34-.216.748-.04.379-.044.864-.045 1.549h11.707ZM2.146 7.45v2.927c0 1.056.002 1.774.074 2.311.07.517.192.756.355.919.163.163.402.285.919.355.537.072 1.255.074 2.31.074h4.391c1.056 0 1.774-.002 2.311-.074.517-.07.756-.192.919-.355.163-.163.285-.402.355-.919.072-.537.074-1.255.074-2.311V7.451H2.146Z",clipRule:"evenodd"})}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h16v16H0z"})})})]}),T=({children:e,leftAdornment:t,rightAdornment:r,footer:n,description:s,standalone:l=!0})=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:(0,o.A)("peer relative flex min-h-10 flex-wrap items-center gap-1.5 gap-y-2 border border-input-stroke p-1.5 transition-colors motion-reduce:transition-none","focus-within:has-[:invalid]:border-input-stroke-error focus-within:has-[:valid]:border-input-stroke-selected focus-within:hover:has-[:invalid]:border-input-stroke-error focus-within:hover:has-[:valid]:border-input-stroke-selected","hover:has-[:enabled]:border-input-stroke-hover",l?"rounded-input-standalone":"rounded-input"),children:[(0,a.jsxs)("div",{className:"flex min-w-0 flex-[10] basis-1/2 items-center gap-1.5 pl-2.5",children:[t&&(0,a.jsx)("div",{children:t}),(0,i.cloneElement)(e,{className:(0,o.A)("min-h-7 min-w-0 flex-1 truncate bg-input-bg text-text-input outline-none placeholder:text-text-input-placeholder disabled:text-text-input-disabled",e.props.className)})]}),r&&(0,a.jsx)("div",{className:"max-w-full flex-1 whitespace-nowrap",children:r})]}),n&&(0,a.jsx)("div",{className:"mt-2",children:n}),s&&(0,a.jsx)("span",{className:"mt-2 text-caption font-medium text-text-secondary peer-[:focus-within:has(:invalid)]:text-text-error",children:s})]}),N=({type:e="date",placeholder:t,name:r,button:n,disabled:o,onChange:s,onValidityChange:l,pattern:u,min:c,max:f,description:d,required:p})=>{let h=(0,i.useId)(),y=!!n,[m,g]=(0,i.useState)(""),[b,w]=(0,i.useState)(!y&&!p),[_,x]=(0,i.useState)(!1);(0,i.useEffect)(()=>{l?.(b)},[]);let S=(0,i.useCallback)(e=>{let t=e.currentTarget.value,r=e.currentTarget.checkValidity();g(t),w(r),s?.(t),l?.(r)},[s,l]),O=(0,i.useMemo)(()=>({min:c,max:f,pattern:u,title:d}),[c,f,u,d]);return(0,a.jsx)(T,{standalone:y,description:d??E({min:c,max:f}),leftAdornment:(0,a.jsx)("label",{htmlFor:h,children:(0,a.jsx)(R,{className:"text-icon-primary"})}),rightAdornment:n?(0,a.jsx)(v,{...n,onClick:()=>n.onClick({[r]:m}),disabled:n.disabled||""===m||!b}):null,children:(0,a.jsx)("input",{id:h,type:u||!_?"text":e,placeholder:(t||"Enter a date")+(p?"*":""),value:m,onChange:S,onFocus:()=>x(!0),...O,required:!!n||p,disabled:o})})},L=e=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",preserveAspectRatio:"xMidYMid meet",...e,children:(0,a.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M1.361 2.685a.764.764 0 0 0-.157.227A2.986 2.986 0 0 0 .75 4.5v7a3 3 0 0 0 3 3h8.5a3 3 0 0 0 3-3v-7c0-.583-.166-1.128-.454-1.588a.75.75 0 0 0-.157-.227A2.995 2.995 0 0 0 12.25 1.5h-8.5c-.975 0-1.841.465-2.389 1.185ZM3.75 3h8.5c.27 0 .522.071.74.195L8.815 6.817a1.25 1.25 0 0 1-1.638-.001l-4.167-3.62C3.227 3.07 3.48 3 3.75 3Zm10 1.522V11.5a1.5 1.5 0 0 1-1.5 1.5h-8.5a1.5 1.5 0 0 1-1.5-1.5V4.524l3.942 3.424a2.75 2.75 0 0 0 3.605.002l3.953-3.428Z",clipRule:"evenodd"})}),I=({placeholder:e,name:t,button:r,disabled:n,onChange:o,onValidityChange:s,pattern:l,min:u,max:c,description:f,required:d})=>{let p=(0,i.useId)(),h=!!r,[y,m]=(0,i.useState)(""),[g,b]=(0,i.useState)(!h&&!d);(0,i.useEffect)(()=>{s?.(g)},[]);let w=(0,i.useMemo)(()=>({minLength:u,maxLength:c,pattern:l,title:f}),[u,c,l,f]);return(0,a.jsx)(T,{standalone:h,description:f??x({min:u,max:c}),leftAdornment:(0,a.jsx)("label",{htmlFor:p,children:(0,a.jsx)(L,{className:"text-icon-primary"})}),rightAdornment:r?(0,a.jsx)(v,{...r,onClick:()=>r.onClick({[t]:y}),disabled:r.disabled||""===y||!g}):null,children:(0,a.jsx)("input",{id:p,type:l?"text":"email",placeholder:(e||"hello@example.com")+(d?"*":""),value:y,onChange:e=>{let t=e.currentTarget.value,r=e.currentTarget.checkValidity();m(t),b(r),o?.(t),s?.(r)},...w,required:!!r||d,disabled:n})})},M=e=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",preserveAspectRatio:"xMidYMid meet",...e,children:(0,a.jsx)("path",{fill:"currentColor",d:"M11.721 1a.75.75 0 0 0-.745.664l-.299 2.586h-4.5l.28-2.42a.745.745 0 0 0-1.48-.17l-.3 2.59H1.75a.75.75 0 0 0 0 1.5H4.5l-.515 4.5H1.75a.75.75 0 0 0 0 1.5h2.063l-.28 2.42a.745.745 0 1 0 1.48.17l.3-2.59h4.5l-.28 2.42a.745.745 0 0 0 1.48.17l.3-2.59h2.937a.75.75 0 0 0 0-1.5H11.5l.52-4.5h2.23a.75.75 0 0 0 0-1.5h-2.063l.279-2.414A.75.75 0 0 0 11.721 1Zm-1.736 9.25H5.5l.52-4.5h4.48l-.515 4.5Z"})}),C=({placeholder:e,name:t,button:r,disabled:n,onChange:o,onValidityChange:s,pattern:l,min:u,max:c,description:f,required:d})=>{let p=(0,i.useId)(),h=!!r,[y,m]=(0,i.useState)(""),[g,b]=(0,i.useState)(!h&&!d);(0,i.useEffect)(()=>{s?.(g)},[]);let w=(0,i.useMemo)(()=>({min:l?void 0:u,max:l?void 0:c,pattern:l,title:f}),[u,c,l,f]);return(0,a.jsx)(T,{standalone:h,description:f??S({min:u,max:c}),leftAdornment:(0,a.jsx)("label",{htmlFor:p,children:(0,a.jsx)(M,{className:"text-icon-primary"})}),rightAdornment:r?(0,a.jsx)(v,{...r,onClick:()=>r.onClick({[t]:y}),disabled:r.disabled||""===y||!g}):null,children:(0,a.jsx)("input",{id:p,type:l?"text":"number",placeholder:(e||"Type here...")+(d?"*":""),value:y,step:"any",onChange:e=>{let t=e.currentTarget.value,r=e.currentTarget.checkValidity();m(t),b(r),o?.(t),s?.(r)},...w,required:!!r||d,disabled:n})})},P=({label:e,value:t,onChange:r,name:n,disabled:s,inputValue:l})=>{let u=(0,i.useId)(),c=`${u}_label`;return(0,a.jsxs)("button",{className:(0,o.A)("flex h-full gap-2.5",{"cursor-pointer":!s,"cursor-not-allowed":s}),onClick:()=>!s&&r(!t),children:[(0,a.jsxs)("div",{className:"flex h-full items-center",children:[(0,a.jsx)("input",{type:"radio",name:n,className:"hidden",defaultValue:l}),(0,a.jsx)("div",{role:"radio",id:u,"aria-labelledby":c,className:(0,o.A)("mt-0.5 flex aspect-square h-[16px] items-center justify-center rounded-full border transition-colors motion-reduce:transition-none",{"border-input-stroke bg-input-bg":!t&&!s,"border-input-stroke-selected bg-input-bg-selected":t&&!s,"border-input-stroke-disabled bg-input-bg":!t&&s,"border-input-stroke-disabled bg-input-bg-disabled":t&&s}),children:(0,a.jsx)("div",{className:(0,o.A)("aspect-square h-[8px] rounded-full bg-input-bg",{invisible:!t})})})]}),(0,a.jsx)("label",{className:"cursor-[inherit] text-text text-text-input",id:c,children:e})]})},D=({placeholder:e,name:t,button:r,disabled:n,onChange:s,onValidityChange:l,description:u,options:c=[],required:f})=>{let d=!!r,p=(0,i.useMemo)(()=>c.find(e=>e.selected),[c]),[h,y]=(0,i.useState)(c.find(e=>e.selected)?.value??""),[m,g]=(0,i.useState)(d?!!p:!(f&&!p)),[b,w]=(0,i.useState)(!1);(0,i.useEffect)(()=>{l?.(m)},[]);let _=(0,i.useCallback)(e=>{y(e),g(!0),w(!0),s?.(e),l?.(!0)},[s,l]);return(0,a.jsxs)("div",{className:(0,o.A)("py-1.5",{"bg-bg-secondary rounded-input px-1.5 pt-2":d}),children:[(0,a.jsxs)("div",{className:(0,o.A)(d&&"px-2"),children:[e&&(0,a.jsx)("div",{className:"mb-1",children:(0,a.jsxs)("label",{className:"block text-text font-semibold text-text-input",children:[e,f?"*":""]})}),(0,a.jsx)("div",{className:(0,o.A)("pt-2",{"flex flex-col gap-3":!d,"grid grid-cols-2 gap-x-4 gap-y-5":d}),children:c.map(e=>(0,a.jsx)("div",{className:"inline-flex",children:(0,a.jsx)(P,{label:e.label,value:e.value===h,inputValue:e.value,onChange:()=>_(e.value),name:t,disabled:n})},`${e.value}_${e.label}`))})]}),d&&(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(v,{...r,onClick:()=>r.onClick({[t]:h}),disabled:r.disabled||!h||!m})}),u&&(0,a.jsx)("span",{className:(0,o.A)("text-caption font-medium",b&&!m?"text-text-error":"text-text-secondary",d?"mb-2 mt-2.5":"mt-3"),children:u})]})},B=({placeholder:e,name:t,button:r,disabled:n,onChange:o,onValidityChange:s,description:l,required:u,options:c=[]})=>{let f=!!r,d=(0,i.useId)(),p=(0,i.useMemo)(()=>c.find(e=>e.selected),[c]),[h,y]=(0,i.useState)(p?.value??d),[m,g]=(0,i.useState)(f?!!p:!(u&&!p));return(0,i.useEffect)(()=>{s?.(m)},[]),(0,a.jsx)(T,{standalone:f,description:l,rightAdornment:r?(0,a.jsx)(v,{...r,onClick:()=>r.onClick({[t]:h}),disabled:r.disabled||""===h||!m}):null,children:(0,a.jsxs)("select",{className:"mr-1.5 cursor-pointer",value:h,onChange:e=>{let t=e.currentTarget.value,r=e.currentTarget.checkValidity()&&d!==t;y(t),g(r),o?.(t),s?.(r)},required:!!r||u,disabled:n,children:[(0,a.jsx)("option",{disabled:!0,value:d,children:(e||"Select...")+(u?"*":"")}),c.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},`${e.value}_${e.label}`))]})})},F=({placeholder:e,name:t,button:r,disabled:n,onChange:o,onValidityChange:s,min:l,max:u,description:c,required:f})=>{let d=!!r,[p,h]=(0,i.useState)(""),[y,m]=(0,i.useState)(!d&&!f);(0,i.useEffect)(()=>{s?.(y)},[]);let g=(0,i.useMemo)(()=>({minLength:l,maxLength:u,title:c}),[l,u,c]);return(0,a.jsx)(T,{standalone:!1,description:c??x({min:l,max:u}),footer:r?(0,a.jsx)(v,{...r,onClick:()=>r.onClick({[t]:p}),disabled:r.disabled||""===p||!y}):null,children:(0,a.jsx)("textarea",{placeholder:(e||"Type here...")+(f?"*":""),value:p,onChange:e=>{let t=e.currentTarget.value,r=e.currentTarget.checkValidity();h(t),m(r),o?.(t),s?.(r)},...g,rows:3,required:!!r||f,disabled:n})})},U=({placeholder:e,name:t,button:r,disabled:n,onChange:o,onValidityChange:s,pattern:l,min:u,max:c,description:f,required:d})=>{let p=!!r,[h,y]=(0,i.useState)(""),[m,g]=(0,i.useState)(!p&&!d);(0,i.useEffect)(()=>{s?.(m)},[]);let b=(0,i.useMemo)(()=>({minLength:u,maxLength:c,pattern:l,title:f}),[u,c,l,f]);return(0,a.jsx)(T,{standalone:p,description:f??x({min:u,max:c}),rightAdornment:r?(0,a.jsx)(v,{...r,onClick:()=>r.onClick({[t]:h}),disabled:r.disabled||""===h||!m}):null,children:(0,a.jsx)("input",{type:"text",placeholder:(e||"Type here...")+(d?"*":""),value:h,onChange:e=>{let t=e.currentTarget.value,r=e.currentTarget.checkValidity();y(t),g(r),o?.(t),s?.(r)},...b,required:!!r||d,disabled:n})})},V=({placeholder:e,name:t,button:r,disabled:n,onChange:o,onValidityChange:s,pattern:l,min:u,max:c,description:f,required:d})=>{let p=!!r,h=(0,i.useId)(),[m,g]=(0,i.useState)(""),[b,w]=(0,i.useState)(!p&&!d);(0,i.useEffect)(()=>{s?.(b)},[]);let _=(0,i.useMemo)(()=>({minLength:u,maxLength:c,pattern:l,title:f}),[u,c,l,f]);return(0,a.jsx)(T,{standalone:p,description:f??x({min:u,max:c}),leftAdornment:(0,a.jsx)("label",{htmlFor:h,children:(0,a.jsx)(y,{className:"text-icon-primary"})}),rightAdornment:r?(0,a.jsx)(v,{...r,onClick:()=>r.onClick({[t]:m}),disabled:r.disabled||""===m||!b}):null,children:(0,a.jsx)("input",{id:h,type:l?"text":"url",placeholder:(e||"https://")+(d?"*":""),value:m,onChange:e=>{let t=e.currentTarget.value,r=e.currentTarget.checkValidity();g(t),w(r),o?.(t),s?.(r)},..._,required:!!r||d,disabled:n})})},$={default:"dial-light","x-dark":"x-dark","x-light":"x-light",custom:"custom"},W=({url:e,className:t,children:r})=>e?(0,a.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:t,children:r}):(0,a.jsx)("div",{className:t,children:r}),q=({message:e,className:t})=>(0,a.jsx)("div",{className:t,children:(0,a.jsx)("div",{className:(0,o.A)("bg-bg-secondary text-subtext text-text-secondary rounded-xl border border-none p-3"),children:(0,a.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,a.jsx)("div",{children:(0,a.jsx)(d,{className:"text-icon-primary"})}),(0,a.jsxs)("div",{className:"flex flex-col justify-center gap-[3px]",children:[(0,a.jsx)("a",{className:"font-semibold",children:"This action is not supported"}),(0,a.jsx)("p",{children:e})]})]})})}),H=({type:e,hidden:t,ignorable:r,onSkip:i,className:o})=>e!==n.Yw.BLOCKED||t?e===n.Yw.UNKNOWN?(0,a.jsx)("div",{className:o,children:(0,a.jsxs)(c,{variant:"warning",children:[(0,a.jsxs)("p",{children:["This Action has not yet been registered. Only use it if you trust the source. This Action will not unfurl on X until it is registered.",!r&&" Your action provider blocks execution of this action."]}),(0,a.jsx)("a",{className:"hover:text-text-warning-hover mt-3 inline-block font-semibold transition-colors motion-reduce:transition-none",href:"https://discord.gg/saydialect",target:"_blank",rel:"noopener noreferrer",children:"Report"})]})}):null:(0,a.jsx)("div",{className:o,children:(0,a.jsxs)(c,{variant:"error",children:[(0,a.jsxs)("p",{children:["This Action or it's origin has been flagged as an unsafe action, & has been blocked. If you believe this action has been blocked in error, please"," ",(0,a.jsx)("a",{href:"https://discord.gg/saydialect",className:"cursor-pointer underline",target:"_blank",rel:"noopener noreferrer",children:"submit an issue"}),".",!r&&" Your action provider blocks execution of this action."]}),r&&i&&(0,a.jsx)("button",{className:"hover:text-text-error-hover mt-3 font-semibold transition-colors motion-reduce:transition-none",onClick:i,children:"Ignore warning & proceed"})]})}),G=({stylePreset:e="default",title:t,description:r,image:i,websiteUrl:s,websiteText:u,securityState:c,disclaimer:f,buttons:d,inputs:m,form:g,error:b,success:v,supportability:w,id:_})=>(0,a.jsx)("div",{className:(0,o.A)("blink",$[e]),children:(0,a.jsxs)("div",{className:"border-stroke-primary bg-bg-primary shadow-action w-full cursor-default overflow-hidden rounded-2xl border",children:[i&&(0,a.jsx)(W,{url:s,className:"block max-h-[100cqw] overflow-y-hidden px-5 pt-5",children:(0,a.jsx)("img",{className:(0,o.A)("aspect-auto w-full rounded-xl object-cover object-center"),src:i,alt:"action-image"})}),(0,a.jsxs)("div",{className:"flex flex-col p-5",children:[(0,a.jsxs)("div",{className:"mb-2 flex items-center gap-2",children:[s&&(0,a.jsxs)("a",{href:s,target:"_blank",className:"text-subtext group inline-flex items-center truncate hover:cursor-pointer",rel:"noopener noreferrer",children:[(0,a.jsx)(y,{className:"text-icon-primary group-hover:text-icon-primary-hover mr-2 transition-colors motion-reduce:transition-none"}),(0,a.jsx)("span",{className:"text-text-link group-hover:text-text-link-hover transition-colors group-hover:underline motion-reduce:transition-none",children:u??s})]}),u&&!s&&(0,a.jsx)("span",{className:"text-subtext text-text-link inline-flex items-center truncate",children:u}),(0,a.jsxs)("a",{href:"https://docs.dialect.to/documentation/actions/security",target:"_blank",rel:"noopener noreferrer",className:"flex items-center",children:["malicious"===c&&(0,a.jsx)(l,{variant:"error",icon:(0,a.jsx)(p,{width:13,height:13}),children:"Blocked"}),"trusted"===c&&(0,a.jsx)(l,{variant:"default",icon:(0,a.jsx)(h,{width:13,height:13})}),"unknown"===c&&(0,a.jsx)(l,{variant:"warning",icon:(0,a.jsx)(h,{width:13,height:13})})]})]}),(0,a.jsx)("span",{className:"text-text text-text-primary mb-0.5 font-semibold",children:t}),(0,a.jsx)("span",{className:"text-subtext text-text-secondary mb-4 whitespace-pre-wrap",children:r}),w.isSupported?(0,a.jsxs)(a.Fragment,{children:[f&&(0,a.jsx)(H,{className:"mb-4",type:f.type,ignorable:f.ignorable,hidden:f.type===n.Yw.BLOCKED&&f.hidden,onSkip:f.type===n.Yw.BLOCKED?f.onSkip:void 0}),(0,a.jsx)(z,{form:g,inputs:m,buttons:d},_),v&&(0,a.jsx)("span",{className:"text-subtext text-text-success mt-4 flex justify-center",children:v}),b&&!v&&(0,a.jsx)("span",{className:"text-subtext text-text-error mt-4 flex justify-center",children:b})]}):(0,a.jsx)(q,{message:w.message})]})]})}),z=({form:e,inputs:t,buttons:r})=>e?(0,a.jsx)(K,{form:e}):(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[r&&r.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap items-center gap-2",children:r?.map((e,t)=>a.jsx("div",{className:"flex flex-grow basis-[calc(33.333%-2*4px)]",children:a.jsx(v,{...e})},t))}),t?.map(e=>a.jsx(Y,{...e},e.name))]}),J=e=>Object.fromEntries(e.map(e=>"checkbox"===e.type?[e.name,e.options?.filter(e=>e.selected).map(e=>e.value)]:"radio"===e.type||"select"===e.type?[e.name,e.options?.find(e=>e.selected)?.value]:null).filter(e=>!!e)),K=({form:e})=>{let[t,r]=(0,i.useState)(J(e.inputs)),[n,o]=(0,i.useState)(Object.fromEntries(e.inputs.map(e=>[e.name,!1]))),s=(e,t)=>{r(r=>({...r,[e]:t}))},l=(e,t)=>{o(r=>({...r,[e]:t}))},u=Object.values(n).some(e=>!e);return(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[e.inputs.map(e=>(0,a.jsx)(Y,{...e,onChange:t=>s(e.name,t),onValidityChange:t=>l(e.name,t)},e.name)),(0,a.jsx)(v,{...e.button,onClick:()=>e.button.onClick(t),disabled:e.button.disabled||u})]})},Y=e=>{switch(e.type){case"checkbox":return(0,a.jsx)(k,{...e});case"radio":return(0,a.jsx)(D,{...e});case"date":case"datetime-local":return(0,a.jsx)(N,{...e,type:e.type});case"select":return(0,a.jsx)(B,{...e});case"email":return(0,a.jsx)(I,{...e});case"number":return(0,a.jsx)(C,{...e});case"url":return(0,a.jsx)(V,{...e});case"textarea":return(0,a.jsx)(F,{...e});default:return(0,a.jsx)(U,{...e})}},Z={"checking-supportability":"default",blocked:"default",idle:"default",executing:"default",success:"success",error:"error"},Q={"checking-supportability":"Loading",blocked:null,idle:null,executing:"Executing",success:"Completed",error:"Failed"},X=({executeFn:e,executionStatus:t,executingAction:r,action:o,...a})=>{let s=(0,i.useMemo)(()=>o?.actions.filter(e=>e instanceof n.gg).filter(e=>!r||r===e).toSpliced(10)??[],[o,r]),l=(0,i.useMemo)(()=>o?.actions.filter(e=>e instanceof n.x3||e instanceof n.S).filter(e=>!r||r===e).toSpliced(3)??[],[o,r]),u=(0,i.useMemo)(()=>{let[e]=o?.actions.filter(e=>e instanceof n.U$).filter(e=>!r||r===e)??[];return e},[o,r]),c=n=>({text:Q[t]??n.label,loading:"executing"===t&&n===r,disabled:o.disabled||"completed"===o.type||"idle"!==t,variant:Z["completed"===o.type?"success":t],onClick:t=>e(n.parentComponent??n,t)}),f=(e,{placement:r}={placement:"standalone"})=>({type:e.parameter.type??"text",placeholder:e.parameter.label,disabled:o.disabled||"completed"===o.type||"idle"!==t,name:e.parameter.name,required:e.parameter.required,min:e.parameter.min,max:e.parameter.max,pattern:e instanceof n.x3&&(0,n.LK)(e.parameter)?e.parameter.pattern:void 0,options:(0,n.M$)(e.parameter)?e.parameter.options:void 0,description:e.parameter.patternDescription,button:"standalone"===r?c(e.toButtonActionComponent()):void 0});return{...a,title:o.title,description:o.description,image:o.icon,buttons:s.map(c),inputs:l.map(e=>f(e)),form:u?(e=>({button:c(e.toButtonActionComponent()),inputs:e.parameters.toSpliced(10).map(t=>f(e.toInputActionComponent(t.name),{placement:"form"}))}))(u):void 0}},ee=({_Layout:e=et,stylePreset:t,...r})=>{let o=(0,i.useCallback)(r=>(0,a.jsx)(e,{...r,stylePreset:t}),[e,t]);return(0,a.jsx)(n.ik,{...r,Layout:o})},et=e=>{let t=X(e);return(0,a.jsx)(G,{...t})}},38789:(e,t,r)=>{"use strict";r.d(t,{s:()=>o,t:()=>i});var n=r(57082);function i(...e){return t=>e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}function o(...e){return n.useCallback(i(...e),e)}},84699:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(57082),i=r(2354);function o(e,t=[]){let r=[],a=()=>{let t=r.map(e=>n.createContext(e));return function(r){let i=r?.[e]||t;return n.useMemo(()=>({[`__scope${e}`]:{...r,[e]:i}}),[r,i])}};return a.scopeName=e,[function(t,o){let a=n.createContext(o),s=r.length;function l(t){let{scope:r,children:o,...l}=t,u=r?.[e][s]||a,c=n.useMemo(()=>l,Object.values(l));return(0,i.jsx)(u.Provider,{value:c,children:o})}return r=[...r,o],l.displayName=t+"Provider",[l,function(r,i){let l=i?.[e][s]||a,u=n.useContext(l);if(u)return u;if(void 0!==o)return o;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let i=r.reduce((t,{useScope:r,scopeName:n})=>{let i=r(e)[`__scope${n}`];return{...t,...i}},{});return n.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}(a,...t)]}},92961:(e,t,r)=>{"use strict";r.d(t,{sG:()=>a});var n=r(57082);r(94439);var i=r(99149),o=r(2354),a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=n.forwardRef((e,r)=>{let{asChild:n,...a}=e,s=n?i.DX:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,o.jsx)(s,{...a,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{})},85441:(e,t,r)=>{"use strict";r.d(t,{C1:()=>_,bL:()=>w});var n=r(57082),i=r(84699),o=r(92961),a=r(2354),s="Progress",[l,u]=(0,i.A)(s),[c,f]=l(s),d=n.forwardRef((e,t)=>{var r,n,i,s;let{__scopeProgress:l,value:u=null,max:f,getValueLabel:d=y,...p}=e;(f||0===f)&&!b(f)&&console.error((r="".concat(f),n="Progress","Invalid prop `max` of value `".concat(r,"` supplied to `").concat(n,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let h=b(f)?f:100;null===u||v(u,h)||console.error((i="".concat(u),s="Progress","Invalid prop `value` of value `".concat(i,"` supplied to `").concat(s,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let w=v(u,h)?u:null,_=g(w)?d(w,h):void 0;return(0,a.jsx)(c,{scope:l,value:w,max:h,children:(0,a.jsx)(o.sG.div,{"aria-valuemax":h,"aria-valuemin":0,"aria-valuenow":g(w)?w:void 0,"aria-valuetext":_,role:"progressbar","data-state":m(w,h),"data-value":null!=w?w:void 0,"data-max":h,...p,ref:t})})});d.displayName=s;var p="ProgressIndicator",h=n.forwardRef((e,t)=>{var r;let{__scopeProgress:n,...i}=e,s=f(p,n);return(0,a.jsx)(o.sG.div,{"data-state":m(s.value,s.max),"data-value":null!==(r=s.value)&&void 0!==r?r:void 0,"data-max":s.max,...i,ref:t})});function y(e,t){return"".concat(Math.round(e/t*100),"%")}function m(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function g(e){return"number"==typeof e}function b(e){return g(e)&&!isNaN(e)&&e>0}function v(e,t){return g(e)&&!isNaN(e)&&e<=t&&e>=0}h.displayName=p;var w=d,_=h},99149:(e,t,r)=>{"use strict";r.d(t,{DX:()=>a});var n=r(57082),i=r(38789),o=r(2354),a=n.forwardRef((e,t)=>{let{children:r,...i}=e,a=n.Children.toArray(r),l=a.find(u);if(l){let e=l.props.children,r=a.map(t=>t!==l?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,o.jsx)(s,{...i,ref:t,children:n.isValidElement(e)?n.cloneElement(e,void 0,r):null})}return(0,o.jsx)(s,{...i,ref:t,children:r})});a.displayName="Slot";var s=n.forwardRef((e,t)=>{let{children:r,...o}=e;if(n.isValidElement(r)){let e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(r);return n.cloneElement(r,{...function(e,t){let r={...t};for(let n in t){let i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{o(...e),i(...e)}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}(o,r.props),ref:t?(0,i.t)(t,e):e})}return n.Children.count(r)>1?n.Children.only(null):null});s.displayName="SlotClone";var l=({children:e})=>(0,o.jsx)(o.Fragment,{children:e});function u(e){return n.isValidElement(e)&&e.type===l}},15971:(e,t,r)=>{"use strict";r.d(t,{UC:()=>et,B8:()=>X,bL:()=>Q,l9:()=>ee});var n=r(57082),i=r.t(n,2);function o(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}var a=r(2354),s=r(84699),l=r(38789),u=r(99149),c=globalThis?.document?n.useLayoutEffect:()=>{},f=i["useId".toString()]||(()=>void 0),d=0;function p(e){let[t,r]=n.useState(f());return c(()=>{e||r(e=>e??String(d++))},[e]),e||(t?`radix-${t}`:"")}var h=r(92961);function y(e){let t=n.useRef(e);return n.useEffect(()=>{t.current=e}),n.useMemo(()=>(...e)=>t.current?.(...e),[])}function m({prop:e,defaultProp:t,onChange:r=()=>{}}){let[i,o]=function({defaultProp:e,onChange:t}){let r=n.useState(e),[i]=r,o=n.useRef(i),a=y(t);return n.useEffect(()=>{o.current!==i&&(a(i),o.current=i)},[i,o,a]),r}({defaultProp:t,onChange:r}),a=void 0!==e,s=a?e:i,l=y(r);return[s,n.useCallback(t=>{if(a){let r="function"==typeof t?t(e):t;r!==e&&l(r)}else o(t)},[a,e,o,l])]}var g=n.createContext(void 0);function b(e){let t=n.useContext(g);return e||t||"ltr"}var v="rovingFocusGroup.onEntryFocus",w={bubbles:!1,cancelable:!0},_="RovingFocusGroup",[x,S,E]=function(e){let t=e+"CollectionProvider",[r,i]=(0,s.A)(t),[o,c]=r(t,{collectionRef:{current:null},itemMap:new Map}),f=e=>{let{scope:t,children:r}=e,i=n.useRef(null),s=n.useRef(new Map).current;return(0,a.jsx)(o,{scope:t,itemMap:s,collectionRef:i,children:r})};f.displayName=t;let d=e+"CollectionSlot",p=n.forwardRef((e,t)=>{let{scope:r,children:n}=e,i=c(d,r),o=(0,l.s)(t,i.collectionRef);return(0,a.jsx)(u.DX,{ref:o,children:n})});p.displayName=d;let h=e+"CollectionItemSlot",y="data-radix-collection-item",m=n.forwardRef((e,t)=>{let{scope:r,children:i,...o}=e,s=n.useRef(null),f=(0,l.s)(t,s),d=c(h,r);return n.useEffect(()=>(d.itemMap.set(s,{ref:s,...o}),()=>void d.itemMap.delete(s))),(0,a.jsx)(u.DX,{[y]:"",ref:f,children:i})});return m.displayName=h,[{Provider:f,Slot:p,ItemSlot:m},function(t){let r=c(e+"CollectionConsumer",t);return n.useCallback(()=>{let e=r.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll("[".concat(y,"]")));return Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},i]}(_),[O,j]=(0,s.A)(_,[E]),[A,k]=O(_),R=n.forwardRef((e,t)=>(0,a.jsx)(x.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,a.jsx)(x.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,a.jsx)(T,{...e,ref:t})})}));R.displayName=_;var T=n.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,orientation:i,loop:s=!1,dir:u,currentTabStopId:c,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:d,onEntryFocus:p,preventScrollOnEntryFocus:g=!1,..._}=e,x=n.useRef(null),E=(0,l.s)(t,x),O=b(u),[j=null,k]=m({prop:c,defaultProp:f,onChange:d}),[R,T]=n.useState(!1),N=y(p),L=S(r),I=n.useRef(!1),[C,P]=n.useState(0);return n.useEffect(()=>{let e=x.current;if(e)return e.addEventListener(v,N),()=>e.removeEventListener(v,N)},[N]),(0,a.jsx)(A,{scope:r,orientation:i,dir:O,loop:s,currentTabStopId:j,onItemFocus:n.useCallback(e=>k(e),[k]),onItemShiftTab:n.useCallback(()=>T(!0),[]),onFocusableItemAdd:n.useCallback(()=>P(e=>e+1),[]),onFocusableItemRemove:n.useCallback(()=>P(e=>e-1),[]),children:(0,a.jsx)(h.sG.div,{tabIndex:R||0===C?-1:0,"data-orientation":i,..._,ref:E,style:{outline:"none",...e.style},onMouseDown:o(e.onMouseDown,()=>{I.current=!0}),onFocus:o(e.onFocus,e=>{let t=!I.current;if(e.target===e.currentTarget&&t&&!R){let t=new CustomEvent(v,w);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=L().filter(e=>e.focusable);M([e.find(e=>e.active),e.find(e=>e.id===j),...e].filter(Boolean).map(e=>e.ref.current),g)}}I.current=!1}),onBlur:o(e.onBlur,()=>T(!1))})})}),N="RovingFocusGroupItem",L=n.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,focusable:i=!0,active:s=!1,tabStopId:l,...u}=e,c=p(),f=l||c,d=k(N,r),y=d.currentTabStopId===f,m=S(r),{onFocusableItemAdd:g,onFocusableItemRemove:b}=d;return n.useEffect(()=>{if(i)return g(),()=>b()},[i,g,b]),(0,a.jsx)(x.ItemSlot,{scope:r,id:f,focusable:i,active:s,children:(0,a.jsx)(h.sG.span,{tabIndex:y?0:-1,"data-orientation":d.orientation,...u,ref:t,onMouseDown:o(e.onMouseDown,e=>{i?d.onItemFocus(f):e.preventDefault()}),onFocus:o(e.onFocus,()=>d.onItemFocus(f)),onKeyDown:o(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){d.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,r){var n;let i=(n=e.key,"rtl"!==r?n:"ArrowLeft"===n?"ArrowRight":"ArrowRight"===n?"ArrowLeft":n);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(i))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(i)))return I[i]}(e,d.orientation,d.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=m().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)r.reverse();else if("prev"===t||"next"===t){"prev"===t&&r.reverse();let n=r.indexOf(e.currentTarget);r=d.loop?function(e,t){return e.map((r,n)=>e[(t+n)%e.length])}(r,n+1):r.slice(n+1)}setTimeout(()=>M(r))}})})})});L.displayName=N;var I={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function M(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=document.activeElement;for(let n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}var C=e=>{let{present:t,children:r}=e,i=function(e){var t,r;let[i,o]=n.useState(),a=n.useRef({}),s=n.useRef(e),l=n.useRef("none"),[u,f]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},n.useReducer((e,t)=>{let n=r[e][t];return null!=n?n:e},t));return n.useEffect(()=>{let e=P(a.current);l.current="mounted"===u?e:"none"},[u]),c(()=>{let t=a.current,r=s.current;if(r!==e){let n=l.current,i=P(t);e?f("MOUNT"):"none"===i||(null==t?void 0:t.display)==="none"?f("UNMOUNT"):r&&n!==i?f("ANIMATION_OUT"):f("UNMOUNT"),s.current=e}},[e,f]),c(()=>{if(i){var e;let t;let r=null!==(e=i.ownerDocument.defaultView)&&void 0!==e?e:window,n=e=>{let n=P(a.current).includes(e.animationName);if(e.target===i&&n&&(f("ANIMATION_END"),!s.current)){let e=i.style.animationFillMode;i.style.animationFillMode="forwards",t=r.setTimeout(()=>{"forwards"===i.style.animationFillMode&&(i.style.animationFillMode=e)})}},o=e=>{e.target===i&&(l.current=P(a.current))};return i.addEventListener("animationstart",o),i.addEventListener("animationcancel",n),i.addEventListener("animationend",n),()=>{r.clearTimeout(t),i.removeEventListener("animationstart",o),i.removeEventListener("animationcancel",n),i.removeEventListener("animationend",n)}}f("ANIMATION_END")},[i,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:n.useCallback(e=>{e&&(a.current=getComputedStyle(e)),o(e)},[])}}(t),o="function"==typeof r?r({present:i.isPresent}):n.Children.only(r),a=(0,l.s)(i.ref,function(e){var t,r;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,i=n&&"isReactWarning"in n&&n.isReactWarning;return i?e.ref:(i=(n=null===(r=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===r?void 0:r.get)&&"isReactWarning"in n&&n.isReactWarning)?e.props.ref:e.props.ref||e.ref}(o));return"function"==typeof r||i.isPresent?n.cloneElement(o,{ref:a}):null};function P(e){return(null==e?void 0:e.animationName)||"none"}C.displayName="Presence";var D="Tabs",[B,F]=function(e,t=[]){let r=[],i=()=>{let t=r.map(e=>n.createContext(e));return function(r){let i=r?.[e]||t;return n.useMemo(()=>({[`__scope${e}`]:{...r,[e]:i}}),[r,i])}};return i.scopeName=e,[function(t,i){let o=n.createContext(i),s=r.length;r=[...r,i];let l=t=>{let{scope:r,children:i,...l}=t,u=r?.[e]?.[s]||o,c=n.useMemo(()=>l,Object.values(l));return(0,a.jsx)(u.Provider,{value:c,children:i})};return l.displayName=t+"Provider",[l,function(r,a){let l=a?.[e]?.[s]||o,u=n.useContext(l);if(u)return u;if(void 0!==i)return i;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let i=r.reduce((t,{useScope:r,scopeName:n})=>{let i=r(e)[`__scope${n}`];return{...t,...i}},{});return n.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}(i,...t)]}(D,[j]),U=j(),[V,$]=B(D),W=n.forwardRef((e,t)=>{let{__scopeTabs:r,value:n,onValueChange:i,defaultValue:o,orientation:s="horizontal",dir:l,activationMode:u="automatic",...c}=e,f=b(l),[d,y]=m({prop:n,onChange:i,defaultProp:o});return(0,a.jsx)(V,{scope:r,baseId:p(),value:d,onValueChange:y,orientation:s,dir:f,activationMode:u,children:(0,a.jsx)(h.sG.div,{dir:f,"data-orientation":s,...c,ref:t})})});W.displayName=D;var q="TabsList",H=n.forwardRef((e,t)=>{let{__scopeTabs:r,loop:n=!0,...i}=e,o=$(q,r),s=U(r);return(0,a.jsx)(R,{asChild:!0,...s,orientation:o.orientation,dir:o.dir,loop:n,children:(0,a.jsx)(h.sG.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:t})})});H.displayName=q;var G="TabsTrigger",z=n.forwardRef((e,t)=>{let{__scopeTabs:r,value:n,disabled:i=!1,...s}=e,l=$(G,r),u=U(r),c=Y(l.baseId,n),f=Z(l.baseId,n),d=n===l.value;return(0,a.jsx)(L,{asChild:!0,...u,focusable:!i,active:d,children:(0,a.jsx)(h.sG.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":f,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:t,onMouseDown:o(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():l.onValueChange(n)}),onKeyDown:o(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&l.onValueChange(n)}),onFocus:o(e.onFocus,()=>{let e="manual"!==l.activationMode;d||i||!e||l.onValueChange(n)})})})});z.displayName=G;var J="TabsContent",K=n.forwardRef((e,t)=>{let{__scopeTabs:r,value:i,forceMount:o,children:s,...l}=e,u=$(J,r),c=Y(u.baseId,i),f=Z(u.baseId,i),d=i===u.value,p=n.useRef(d);return n.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(C,{present:o||d,children:r=>{let{present:n}=r;return(0,a.jsx)(h.sG.div,{"data-state":d?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":c,hidden:!n,id:f,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:n&&s})}})});function Y(e,t){return"".concat(e,"-trigger-").concat(t)}function Z(e,t){return"".concat(e,"-content-").concat(t)}K.displayName=J;var Q=W,X=H,ee=z,et=K},6524:(e,t,r)=>{"use strict";r.d(t,{x:()=>f});var n=r(57082),i=r(23325),o=r(36574),a=r(38066);function s({walletIcon:e,walletName:t,...r}){return n.createElement(o.$,{...r,className:"wallet-adapter-button-trigger",startIcon:e&&t?n.createElement(a.l,{wallet:{adapter:{icon:e,name:t}}}):void 0})}var l=r(12089);function u({children:e,labels:t,...r}){let{setVisible:o}=(0,l.o)(),{buttonState:a,onConnect:u,onDisconnect:c,publicKey:f,walletIcon:d,walletName:p}=function({onSelectWallet:e}){let t;let{connect:r,connected:o,connecting:a,disconnect:s,disconnecting:l,publicKey:u,select:c,wallet:f,wallets:d}=(0,i.v)();t=a?"connecting":o?"connected":l?"disconnecting":f?"has-wallet":"no-wallet";let p=(0,n.useCallback)(()=>{r().catch(()=>{})},[r]),h=(0,n.useCallback)(()=>{s().catch(()=>{})},[s]);return{buttonState:t,onConnect:"has-wallet"===t?p:void 0,onDisconnect:"disconnecting"!==t&&"no-wallet"!==t?h:void 0,onSelectWallet:(0,n.useCallback)(()=>{e({onSelectWallet:c,wallets:d})},[e,c,d]),publicKey:u??void 0,walletIcon:f?.adapter.icon,walletName:f?.adapter.name}}({onSelectWallet(){o(!0)}}),[h,y]=(0,n.useState)(!1),[m,g]=(0,n.useState)(!1),b=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=e=>{let t=b.current;!t||t.contains(e.target)||g(!1)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[]);let v=(0,n.useMemo)(()=>{if(e)return e;if(f){let e=f.toBase58();return e.slice(0,4)+".."+e.slice(-4)}return"connecting"===a||"has-wallet"===a?t[a]:t["no-wallet"]},[a,e,t,f]);return n.createElement("div",{className:"wallet-adapter-dropdown"},n.createElement(s,{...r,"aria-expanded":m,style:{pointerEvents:m?"none":"auto",...r.style},onClick:()=>{switch(a){case"no-wallet":o(!0);break;case"has-wallet":u&&u();break;case"connected":g(!0)}},walletIcon:d,walletName:p},v),n.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${m&&"wallet-adapter-dropdown-list-active"}`,ref:b,role:"menu"},f?n.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(f.toBase58()),y(!0),setTimeout(()=>y(!1),400)},role:"menuitem"},h?t.copied:t["copy-address"]):null,n.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{o(!0),g(!1)},role:"menuitem"},t["change-wallet"]),c?n.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{c(),g(!1)},role:"menuitem"},t.disconnect):null))}let c={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function f(e){return n.createElement(u,{...e,labels:c})}},38584:(e,t,r)=>{"use strict";r.d(t,{F:()=>p});let n=Symbol.for("constructDateFrom");function i(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&n in e?e[n](t):e instanceof Date?new e.constructor(t):new Date(t)}function o(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];let o=i.bind(null,e||r.find(e=>"object"==typeof e));return r.map(o)}function a(e,t){return i(t||e,e)}function s(e,t,r){let{years:n=0,months:o=0,weeks:s=0,days:l=0,hours:u=0,minutes:c=0,seconds:f=0}=t,d=a(e,null==r?void 0:r.in),p=o||n?function(e,t,r){let n=a(e,void 0);if(isNaN(t))return i(e,NaN);if(!t)return n;let o=n.getDate(),s=i(e,n.getTime());return(s.setMonth(n.getMonth()+t+1,0),o>=s.getDate())?s:(n.setFullYear(s.getFullYear(),s.getMonth(),o),n)}(d,o+12*n):d,h=l||s?function(e,t,r){let n=a(e,void 0);return isNaN(t)?i(e,NaN):(t&&n.setDate(n.getDate()+t),n)}(p,l+7*s):p;return i((null==r?void 0:r.in)||e,+h+1e3*(f+60*(c+60*u)))}function l(e){let t=a(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function u(e,t){let r=a(e,null==t?void 0:t.in);return r.setHours(0,0,0,0),r}function c(e,t){let r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function f(e){return t=>{let r=(e?Math[e]:Math.trunc)(t);return 0===r?0:r}}function d(e,t){let r=+a(e)-+a(t);return r<0?-1:r>0?1:r}function p(e,t){let{start:r,end:n}=function(e,t){let[r,n]=o(e,t.start,t.end);return{start:r,end:n}}(null==t?void 0:t.in,e),i={},p=function(e,t,r){let[n,i]=o(void 0,e,t),a=d(n,i),s=Math.abs(function(e,t,r){let[n,i]=o(void 0,e,t);return n.getFullYear()-i.getFullYear()}(n,i));n.setFullYear(1584),i.setFullYear(1584);let l=d(n,i)===-a,u=a*(s-+l);return 0===u?0:u}(n,r);p&&(i.years=p);let h=s(r,{years:i.years}),y=function(e,t,r){let[n,i,s]=o(void 0,e,e,t),l=d(i,s),u=Math.abs(function(e,t,r){let[n,i]=o(void 0,e,t);return 12*(n.getFullYear()-i.getFullYear())+(n.getMonth()-i.getMonth())}(i,s));if(u<1)return 0;1===i.getMonth()&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-l*u);let c=d(i,s)===-l;(function(e,t){let r=a(e,void 0);return+function(e,t){let r=a(e,null==t?void 0:t.in);return r.setHours(23,59,59,999),r}(r,void 0)==+function(e,t){let r=a(e,null==t?void 0:t.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}(r,void 0)})(n)&&1===u&&1===d(n,s)&&(c=!1);let f=l*(u-+c);return 0===f?0:f}(n,h);y&&(i.months=y);let m=s(h,{months:i.months}),g=function(e,t,r){let[n,i]=o(void 0,e,t),a=c(n,i),s=Math.abs(function(e,t,r){let[n,i]=o(void 0,e,t),a=u(n),s=u(i);return Math.round((+a-l(a)-(+s-l(s)))/864e5)}(n,i));n.setDate(n.getDate()-a*s);let f=Number(c(n,i)===-a),d=a*(s-f);return 0===d?0:d}(n,m);g&&(i.days=g);let b=s(m,{days:i.days}),v=function(e,t,r){let[n,i]=o(void 0,e,t);return f(void 0)((+n-+i)/36e5)}(n,b);v&&(i.hours=v);let w=s(b,{hours:i.hours}),_=function(e,t,r){let n=(+a(e)-+a(t))/6e4;return f(void 0)(n)}(n,w);_&&(i.minutes=_);let x=function(e,t,r){let n=(+a(e)-+a(t))/1e3;return f(void 0)(n)}(n,s(w,{minutes:i.minutes}));return x&&(i.seconds=x),i}},68931:(e,t,r)=>{"use strict";r.d(t,{fp:()=>d});var n=r(57082),i=r(27455);let o=(0,n.createContext)(void 0),a=e=>{let t=(0,n.useContext)(o);return(null==e?void 0:e.store)||t||(0,i.zp)()},s=e=>"function"==typeof(null==e?void 0:e.then),l=e=>{e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t})},u=n.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw l(e),e}),c=new WeakMap,f=e=>{let t=c.get(e);return t||(t=new Promise((r,n)=>{let i=e,o=e=>t=>{i===e&&r(t)},a=e=>t=>{i===e&&n(t)},l=e=>{"onCancel"in e&&"function"==typeof e.onCancel&&e.onCancel(n=>{if(n===e)throw Error("[Bug] p is not updated even after cancelation");s(n)?(c.set(n,t),i=n,n.then(o(n),a(n)),l(n)):r(n)})};e.then(o(e),a(e)),l(e)}),c.set(e,t)),t};function d(e,t){return[function(e,t){let r=a(t),[[i,o,c],d]=(0,n.useReducer)(t=>{let n=r.get(e);return Object.is(t[0],n)&&t[1]===r&&t[2]===e?t:[n,r,e]},void 0,()=>[r.get(e),r,e]),p=i;(o!==r||c!==e)&&(d(),p=r.get(e));let h=null==t?void 0:t.delay;return((0,n.useEffect)(()=>{let t=r.sub(e,()=>{if("number"==typeof h){let t=r.get(e);s(t)&&l(f(t)),setTimeout(d,h);return}d()});return d(),t},[r,e,h]),(0,n.useDebugValue)(p),s(p))?u(f(p)):p}(e,t),function(e,t){let r=a(t);return(0,n.useCallback)(function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];if(!("write"in e))throw Error("not writable atom");return r.set(e,...n)},[r,e])}(e,t)]}},27455:(e,t,r)=>{"use strict";let n;r.d(t,{eU:()=>o,zp:()=>k});let i=0;function o(e,t){let r=`atom${++i}`,n={toString(){return this.debugLabel?r+":"+this.debugLabel:r}};return"function"==typeof e?n.read=e:(n.init=e,n.read=a,n.write=s),t&&(n.write=t),n}function a(e){return e(this)}function s(e,t,r){return t(this,"function"==typeof r?r(e(this)):r)}let l=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,u=e=>"init"in e,c=e=>!!e.write,f=new WeakMap,d=e=>{var t;return y(e)&&!(null==(t=f.get(e))?void 0:t[1])},p=(e,t)=>{let r=f.get(e);if(r)r[1]=!0,r[0].forEach(e=>e(t));else throw Error("[Bug] cancelable promise not found")},h=e=>{if(f.has(e))return;let t=[new Set,!1];f.set(e,t);let r=()=>{t[1]=!0};e.then(r,r),e.onCancel=e=>{t[0].add(e)}},y=e=>"function"==typeof(null==e?void 0:e.then),m=e=>"v"in e||"e"in e,g=e=>{if("e"in e)throw e.e;if(!("v"in e))throw Error("[Bug] atom state is not initialized");return e.v},b=(e,t,r)=>{r.p.has(e)||(r.p.add(e),t.then(()=>{r.p.delete(e)},()=>{r.p.delete(e)}))},v=(e,t,r,n,i)=>{var o;if(n===t)throw Error("[Bug] atom cannot depend on itself");r.d.set(n,i.n),d(r.v)&&b(t,r.v,i),null==(o=i.m)||o.t.add(t),e&&x(e,n,t)},w=()=>[new Map,new Map,new Set],_=(e,t,r)=>{e[0].has(t)||e[0].set(t,new Set),e[1].set(t,r)},x=(e,t,r)=>{let n=e[0].get(t);n&&n.add(r)},S=(e,t)=>e[0].get(t),E=(e,t)=>{e[2].add(t)},O=e=>{for(;e[1].size||e[2].size;){e[0].clear();let t=new Set(e[1].values());e[1].clear();let r=new Set(e[2]);e[2].clear(),t.forEach(e=>{var t;return null==(t=e.m)?void 0:t.l.forEach(e=>e())}),r.forEach(e=>e())}},j=e=>{let t;t=new Set;let r=(t,r,n)=>{let i="v"in r,o=r.v,a=d(r.v)?r.v:null;if(y(n)){for(let i of(h(n),r.d.keys()))b(t,n,e(i,r));r.v=n,delete r.e}else r.v=n,delete r.e;i&&Object.is(o,r.v)||(++r.n,a&&p(a,n))},n=(t,i,o,a)=>{var d;let p,h;if(m(o)&&(o.m&&!(null==a?void 0:a.has(i))||Array.from(o.d).every(([r,i])=>n(t,r,e(r,o),a).n===i)))return o;o.d.clear();let b=!0;try{let _=i.read(s=>{if(l(i,s)){let t=e(s,o);if(!m(t)){if(u(s))r(s,t,s.init);else throw Error("no atom init")}return g(t)}let c=n(t,s,e(s,o),a);if(b)v(t,i,o,s,c);else{let e=w();v(e,i,o,s,c),f(e,i,o),O(e)}return g(c)},{get signal(){return p||(p=new AbortController),p.signal},get setSelf(){return c(i)||console.warn("setSelf function cannot be used with read-only atom"),!h&&c(i)&&(h=(...e)=>{if(b&&console.warn("setSelf function cannot be called in sync"),!b)return s(i,...e)}),h}});if(r(i,o,_),y(_)){null==(d=_.onCancel)||d.call(_,()=>null==p?void 0:p.abort());let e=()=>{if(o.m){let e=w();f(e,i,o),O(e)}};_.then(e,e)}return o}catch(e){return delete o.v,o.e=e,++o.n,o}finally{b=!1}},i=(t,r,n)=>{var i,o;let a=new Map;for(let t of(null==(i=n.m)?void 0:i.t)||[])a.set(t,e(t,n));for(let t of n.p)a.set(t,e(t,n));return null==(o=S(t,r))||o.forEach(t=>{a.set(t,e(t,n))}),a},o=(e,t,r)=>{let o=[],a=new Set,s=(t,r)=>{if(!a.has(t)){for(let[n,o]of(a.add(t),i(e,t,r)))t!==n&&s(n,o);o.push([t,r,r.n])}};s(t,r);let l=new Set([t]);for(let t=o.length-1;t>=0;--t){let[r,i,s]=o[t],u=!1;for(let e of i.d.keys())if(e!==r&&l.has(e)){u=!0;break}u&&(n(e,r,i,a),f(e,r,i),s!==i.n&&(_(e,r,i),l.add(r))),a.delete(r)}},a=(t,i,s,...c)=>i.write(r=>g(n(t,r,e(r,s))),(n,...c)=>{let d;let p=e(n,s);if(l(i,n)){if(!u(n))throw Error("atom not writable");let e="v"in p,i=p.v;r(n,p,c[0]),f(t,n,p),e&&Object.is(i,p.v)||(_(t,n,p),o(t,n,p))}else d=a(t,n,p,...c);return O(t),d},...c),s=(t,...r)=>{let n=w(),i=a(n,t,e(t),...r);return O(n),i},f=(t,r,n)=>{if(n.m&&!d(n.v)){for(let i of n.d.keys())n.m.d.has(i)||(x(t,i,e(i,n)).t.add(r),n.m.d.add(i));for(let i of n.m.d||[])if(!n.d.has(i)){n.m.d.delete(i);let o=A(t,i,e(i,n));null==o||o.t.delete(r)}}},x=(r,i,o)=>{if(!o.m){for(let t of(n(r,i,o),o.d.keys()))x(r,t,e(t,o)).t.add(i);if(o.m={l:new Set,d:new Set(o.d.keys()),t:new Set},t.add(i),c(i)&&i.onMount){let e=o.m,{onMount:t}=i;E(r,()=>{let n=t((...e)=>a(r,i,o,...e));n&&(e.u=n)})}}return o.m},A=(r,n,i)=>{if(i.m&&!i.m.l.size&&!Array.from(i.m.t).some(t=>{var r;return null==(r=e(t,i).m)?void 0:r.d.has(n)})){let o=i.m.u;for(let a of(o&&E(r,o),delete i.m,t.delete(n),i.d.keys())){let t=A(r,a,e(a,i));null==t||t.t.delete(n)}return}return i.m},k={get:t=>g(n(void 0,t,e(t))),set:s,sub:(t,r)=>{let n=w(),i=e(t),o=x(n,t,i);O(n);let a=o.l;return a.add(r),()=>{a.delete(r);let e=w();A(e,t,i),O(e)}},unstable_derive:t=>j(...t(e))};return Object.assign(k,{dev4_get_internal_weak_map:()=>({get:t=>{let r=e(t);if(0!==r.n)return r}}),dev4_get_mounted_atoms:()=>t,dev4_restore_atoms:t=>{let n=w();for(let[i,a]of t)if(u(i)){let t=e(i),s="v"in t,l=t.v;r(i,t,a),f(n,i,t),s&&Object.is(l,t.v)||(_(n,i,t),o(n,i,t))}O(n)}}),k},A=()=>{let e=new WeakMap;return j(t=>{let r=e.get(t);return r||(r={d:new Map,p:new Set,n:0},e.set(t,r)),r})},k=()=>(n||(n=A(),globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=n),globalThis.__JOTAI_DEFAULT_STORE__!==n&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044")),n)}}]);